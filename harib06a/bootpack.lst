     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_init_gdtidt
     7 00000000                                 	EXTERN	_init_pic
     8 00000000                                 	EXTERN	_io_sti
     9 00000000                                 	EXTERN	_keyfifo
    10 00000000                                 	EXTERN	_fifo8_init
    11 00000000                                 	EXTERN	_mousefifo
    12 00000000                                 	EXTERN	_io_out8
    13 00000000                                 	EXTERN	_init_keyboard
    14 00000000                                 	EXTERN	_enable_mouse
    15 00000000                                 	EXTERN	_memtest
    16 00000000                                 	EXTERN	_memman_init
    17 00000000                                 	EXTERN	_memman_free
    18 00000000                                 	EXTERN	_init_palette
    19 00000000                                 	EXTERN	_shtctl_init
    20 00000000                                 	EXTERN	_sheet_alloc
    21 00000000                                 	EXTERN	_memman_alloc_4k
    22 00000000                                 	EXTERN	_sheet_setbuf
    23 00000000                                 	EXTERN	_init_screen8
    24 00000000                                 	EXTERN	_init_mouse_cursor8
    25 00000000                                 	EXTERN	_putfonts8_asc
    26 00000000                                 	EXTERN	_sheet_slide
    27 00000000                                 	EXTERN	_sheet_updown
    28 00000000                                 	EXTERN	_sprintf
    29 00000000                                 	EXTERN	_memman_total
    30 00000000                                 	EXTERN	_sheet_refresh
    31 00000000                                 	EXTERN	_boxfill8
    32 00000000                                 	EXTERN	_io_cli
    33 00000000                                 	EXTERN	_fifo8_status
    34 00000000                                 	EXTERN	_fifo8_get
    35 00000000                                 	EXTERN	_mouse_decode
    36 00000000                                 [FILE "bootpack.c"]
    37                                          [SECTION .data]
    38 00000000                                 LC0:
    39 00000000 63 6F 75 6E 74 65 72 00         	DB	"counter",0x00
    40 00000008                                 LC1:
    41 00000008 57 65 6C 63 6F 6D 65 20 74 6F   	DB	"Welcome to",0x00
       00000012 00 
    42 00000013                                 LC2:
    43 00000013 20 20 20 20 48 61 72 69 62 6F   	DB	"    Haribote-OS",0x00
       0000001D 74 65 2D 4F 53 00 
    44 00000023                                 LC3:
    45 00000023 28 25 33 64 2C 20 25 33 64 29   	DB	"(%3d, %3d)",0x00
       0000002D 00 
    46 0000002E                                 LC4:
    47 0000002E 6D 65 6D 6F 72 79 20 25 64 4D   	DB	"memory %dMB free: %dKB",0x00
       00000038 42 20 66 72 65 65 3A 20 25 64 
       00000042 4B 42 00 
    48 00000045                                 LC5:
    49 00000045 25 30 31 30 64 00               	DB	"%010d",0x00
    50 0000004B                                 LC7:
    51 0000004B 5B 6C 63 72 20 25 34 64 20 25   	DB	"[lcr %4d %4d]",0x00
       00000055 34 64 5D 00 
    52 00000059                                 LC6:
    53 00000059 25 30 32 58 00                  	DB	"%02X",0x00
    54                                          [SECTION .text]
    55 00000000                                 	GLOBAL	_HariMain
    56 00000000                                 _HariMain:
    57 00000000 55                              	PUSH	EBP
    58 00000001 89 E5                           	MOV	EBP,ESP
    59 00000003 57                              	PUSH	EDI
    60 00000004 56                              	PUSH	ESI
    61 00000005 53                              	PUSH	EBX
    62 00000006 81 EC 000001FC                  	SUB	ESP,508
    63 0000000C C7 85 FFFFFE10 00000000         	MOV	DWORD [-496+EBP],0
    64 00000016 E8 [00000000]                   	CALL	_init_gdtidt
    65 0000001B E8 [00000000]                   	CALL	_init_pic
    66 00000020 E8 [00000000]                   	CALL	_io_sti
    67 00000025 8D 45 A4                        	LEA	EAX,DWORD [-92+EBP]
    68 00000028 50                              	PUSH	EAX
    69 00000029 6A 20                           	PUSH	32
    70 0000002B 68 [00000000]                   	PUSH	_keyfifo
    71 00000030 E8 [00000000]                   	CALL	_fifo8_init
    72 00000035 8D 85 FFFFFF24                  	LEA	EAX,DWORD [-220+EBP]
    73 0000003B 50                              	PUSH	EAX
    74 0000003C 68 00000080                     	PUSH	128
    75 00000041 68 [00000000]                   	PUSH	_mousefifo
    76 00000046 E8 [00000000]                   	CALL	_fifo8_init
    77 0000004B 68 000000F9                     	PUSH	249
    78 00000050 6A 21                           	PUSH	33
    79 00000052 E8 [00000000]                   	CALL	_io_out8
    80 00000057 83 C4 20                        	ADD	ESP,32
    81 0000005A 68 000000EF                     	PUSH	239
    82 0000005F 68 000000A1                     	PUSH	161
    83 00000064 E8 [00000000]                   	CALL	_io_out8
    84 00000069 E8 [00000000]                   	CALL	_init_keyboard
    85 0000006E 8D 85 FFFFFF14                  	LEA	EAX,DWORD [-236+EBP]
    86 00000074 50                              	PUSH	EAX
    87 00000075 E8 [00000000]                   	CALL	_enable_mouse
    88 0000007A 68 BFFFFFFF                     	PUSH	-1073741825
    89 0000007F 68 00400000                     	PUSH	4194304
    90 00000084 E8 [00000000]                   	CALL	_memtest
    91 00000089 68 0003C000                     	PUSH	245760
    92 0000008E 89 C3                           	MOV	EBX,EAX
    93 00000090 E8 [00000000]                   	CALL	_memman_init
    94 00000095 68 0009E000                     	PUSH	647168
    95 0000009A 68 00001000                     	PUSH	4096
    96 0000009F 68 0003C000                     	PUSH	245760
    97 000000A4 E8 [00000000]                   	CALL	_memman_free
    98 000000A9 8D 83 FFC00000                  	LEA	EAX,DWORD [-4194304+EBX]
    99 000000AF 83 C4 24                        	ADD	ESP,36
   100 000000B2 50                              	PUSH	EAX
   101 000000B3 68 00400000                     	PUSH	4194304
   102 000000B8 68 0003C000                     	PUSH	245760
   103 000000BD E8 [00000000]                   	CALL	_memman_free
   104 000000C2 E8 [00000000]                   	CALL	_init_palette
   105 000000C7 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   106 000000CE 50                              	PUSH	EAX
   107 000000CF 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   108 000000D6 50                              	PUSH	EAX
   109 000000D7 FF 35 00000FF8                  	PUSH	DWORD [4088]
   110 000000DD 68 0003C000                     	PUSH	245760
   111 000000E2 E8 [00000000]                   	CALL	_shtctl_init
   112 000000E7 89 C3                           	MOV	EBX,EAX
   113 000000E9 50                              	PUSH	EAX
   114 000000EA E8 [00000000]                   	CALL	_sheet_alloc
   115 000000EF 83 C4 20                        	ADD	ESP,32
   116 000000F2 53                              	PUSH	EBX
   117 000000F3 89 85 FFFFFE0C                  	MOV	DWORD [-500+EBP],EAX
   118 000000F9 E8 [00000000]                   	CALL	_sheet_alloc
   119 000000FE 53                              	PUSH	EBX
   120 000000FF 8D 9D FFFFFE14                  	LEA	EBX,DWORD [-492+EBP]
   121 00000105 89 85 FFFFFE08                  	MOV	DWORD [-504+EBP],EAX
   122 0000010B E8 [00000000]                   	CALL	_sheet_alloc
   123 00000110 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
   124 00000117 89 85 FFFFFE04                  	MOV	DWORD [-508+EBP],EAX
   125 0000011D 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   126 00000124 0F AF C2                        	IMUL	EAX,EDX
   127 00000127 50                              	PUSH	EAX
   128 00000128 68 0003C000                     	PUSH	245760
   129 0000012D E8 [00000000]                   	CALL	_memman_alloc_4k
   130 00000132 68 00002080                     	PUSH	8320
   131 00000137 68 0003C000                     	PUSH	245760
   132 0000013C 89 85 FFFFFE00                  	MOV	DWORD [-512+EBP],EAX
   133 00000142 E8 [00000000]                   	CALL	_memman_alloc_4k
   134 00000147 6A FF                           	PUSH	-1
   135 00000149 89 85 FFFFFDFC                  	MOV	DWORD [-516+EBP],EAX
   136 0000014F 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   137 00000156 50                              	PUSH	EAX
   138 00000157 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   139 0000015E 50                              	PUSH	EAX
   140 0000015F FF B5 FFFFFE00                  	PUSH	DWORD [-512+EBP]
   141 00000165 FF B5 FFFFFE0C                  	PUSH	DWORD [-500+EBP]
   142 0000016B E8 [00000000]                   	CALL	_sheet_setbuf
   143 00000170 83 C4 2C                        	ADD	ESP,44
   144 00000173 6A 63                           	PUSH	99
   145 00000175 6A 10                           	PUSH	16
   146 00000177 6A 10                           	PUSH	16
   147 00000179 53                              	PUSH	EBX
   148 0000017A FF B5 FFFFFE08                  	PUSH	DWORD [-504+EBP]
   149 00000180 E8 [00000000]                   	CALL	_sheet_setbuf
   150 00000185 6A FF                           	PUSH	-1
   151 00000187 6A 34                           	PUSH	52
   152 00000189 68 000000A0                     	PUSH	160
   153 0000018E FF B5 FFFFFDFC                  	PUSH	DWORD [-516+EBP]
   154 00000194 FF B5 FFFFFE04                  	PUSH	DWORD [-508+EBP]
   155 0000019A E8 [00000000]                   	CALL	_sheet_setbuf
   156 0000019F 83 C4 28                        	ADD	ESP,40
   157 000001A2 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   158 000001A9 50                              	PUSH	EAX
   159 000001AA 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   160 000001B1 50                              	PUSH	EAX
   161 000001B2 FF B5 FFFFFE00                  	PUSH	DWORD [-512+EBP]
   162 000001B8 E8 [00000000]                   	CALL	_init_screen8
   163 000001BD 6A 63                           	PUSH	99
   164 000001BF 53                              	PUSH	EBX
   165 000001C0 BB 00000002                     	MOV	EBX,2
   166 000001C5 E8 [00000000]                   	CALL	_init_mouse_cursor8
   167 000001CA 68 [00000000]                   	PUSH	LC0
   168 000001CF 6A 34                           	PUSH	52
   169 000001D1 68 000000A0                     	PUSH	160
   170 000001D6 FF B5 FFFFFDFC                  	PUSH	DWORD [-516+EBP]
   171 000001DC E8 000003F1                     	CALL	_make_window8
   172 000001E1 83 C4 24                        	ADD	ESP,36
   173 000001E4 68 [00000008]                   	PUSH	LC1
   174 000001E9 6A 00                           	PUSH	0
   175 000001EB 6A 1C                           	PUSH	28
   176 000001ED 6A 18                           	PUSH	24
   177 000001EF 68 000000A0                     	PUSH	160
   178 000001F4 FF B5 FFFFFDFC                  	PUSH	DWORD [-516+EBP]
   179 000001FA E8 [00000000]                   	CALL	_putfonts8_asc
   180 000001FF 68 [00000013]                   	PUSH	LC2
   181 00000204 6A 00                           	PUSH	0
   182 00000206 6A 2C                           	PUSH	44
   183 00000208 6A 18                           	PUSH	24
   184 0000020A 68 000000A0                     	PUSH	160
   185 0000020F FF B5 FFFFFDFC                  	PUSH	DWORD [-516+EBP]
   186 00000215 E8 [00000000]                   	CALL	_putfonts8_asc
   187 0000021A 83 C4 30                        	ADD	ESP,48
   188 0000021D 6A 00                           	PUSH	0
   189 0000021F 6A 00                           	PUSH	0
   190 00000221 FF B5 FFFFFE0C                  	PUSH	DWORD [-500+EBP]
   191 00000227 E8 [00000000]                   	CALL	_sheet_slide
   192 0000022C 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   193 00000233 8D 48 F0                        	LEA	ECX,DWORD [-16+EAX]
   194 00000236 89 C8                           	MOV	EAX,ECX
   195 00000238 99                              	CDQ
   196 00000239 F7 FB                           	IDIV	EBX
   197 0000023B 89 C7                           	MOV	EDI,EAX
   198 0000023D 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   199 00000244 8D 48 D4                        	LEA	ECX,DWORD [-44+EAX]
   200 00000247 89 C8                           	MOV	EAX,ECX
   201 00000249 99                              	CDQ
   202 0000024A F7 FB                           	IDIV	EBX
   203 0000024C 50                              	PUSH	EAX
   204 0000024D 89 C6                           	MOV	ESI,EAX
   205 0000024F 57                              	PUSH	EDI
   206 00000250 8D 5D C4                        	LEA	EBX,DWORD [-60+EBP]
   207 00000253 FF B5 FFFFFE08                  	PUSH	DWORD [-504+EBP]
   208 00000259 E8 [00000000]                   	CALL	_sheet_slide
   209 0000025E 6A 48                           	PUSH	72
   210 00000260 6A 50                           	PUSH	80
   211 00000262 FF B5 FFFFFE04                  	PUSH	DWORD [-508+EBP]
   212 00000268 E8 [00000000]                   	CALL	_sheet_slide
   213 0000026D 83 C4 24                        	ADD	ESP,36
   214 00000270 6A 00                           	PUSH	0
   215 00000272 FF B5 FFFFFE0C                  	PUSH	DWORD [-500+EBP]
   216 00000278 E8 [00000000]                   	CALL	_sheet_updown
   217 0000027D 6A 01                           	PUSH	1
   218 0000027F FF B5 FFFFFE04                  	PUSH	DWORD [-508+EBP]
   219 00000285 E8 [00000000]                   	CALL	_sheet_updown
   220 0000028A 6A 02                           	PUSH	2
   221 0000028C FF B5 FFFFFE08                  	PUSH	DWORD [-504+EBP]
   222 00000292 E8 [00000000]                   	CALL	_sheet_updown
   223 00000297 56                              	PUSH	ESI
   224 00000298 57                              	PUSH	EDI
   225 00000299 68 [00000023]                   	PUSH	LC3
   226 0000029E 53                              	PUSH	EBX
   227 0000029F E8 [00000000]                   	CALL	_sprintf
   228 000002A4 83 C4 28                        	ADD	ESP,40
   229 000002A7 53                              	PUSH	EBX
   230 000002A8 6A 07                           	PUSH	7
   231 000002AA 6A 00                           	PUSH	0
   232 000002AC 6A 00                           	PUSH	0
   233 000002AE 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   234 000002B5 50                              	PUSH	EAX
   235 000002B6 FF B5 FFFFFE00                  	PUSH	DWORD [-512+EBP]
   236 000002BC E8 [00000000]                   	CALL	_putfonts8_asc
   237 000002C1 68 0003C000                     	PUSH	245760
   238 000002C6 E8 [00000000]                   	CALL	_memman_total
   239 000002CB C1 E8 0A                        	SHR	EAX,10
   240 000002CE 89 04 24                        	MOV	DWORD [ESP],EAX
   241 000002D1 68 0003C000                     	PUSH	245760
   242 000002D6 E8 [00000000]                   	CALL	_memman_total
   243 000002DB C1 E8 14                        	SHR	EAX,20
   244 000002DE 89 04 24                        	MOV	DWORD [ESP],EAX
   245 000002E1 68 [0000002E]                   	PUSH	LC4
   246 000002E6 53                              	PUSH	EBX
   247 000002E7 E8 [00000000]                   	CALL	_sprintf
   248 000002EC 83 C4 28                        	ADD	ESP,40
   249 000002EF 53                              	PUSH	EBX
   250 000002F0 6A 07                           	PUSH	7
   251 000002F2 6A 20                           	PUSH	32
   252 000002F4 6A 00                           	PUSH	0
   253 000002F6 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   254 000002FD 50                              	PUSH	EAX
   255 000002FE FF B5 FFFFFE00                  	PUSH	DWORD [-512+EBP]
   256 00000304 E8 [00000000]                   	CALL	_putfonts8_asc
   257 00000309 6A 30                           	PUSH	48
   258 0000030B 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   259 00000312 50                              	PUSH	EAX
   260 00000313 6A 00                           	PUSH	0
   261 00000315                                 L18:
   262 00000315 6A 00                           	PUSH	0
   263 00000317 FF B5 FFFFFE0C                  	PUSH	DWORD [-500+EBP]
   264 0000031D E8 [00000000]                   	CALL	_sheet_refresh
   265 00000322 83 C4 2C                        	ADD	ESP,44
   266 00000325                                 L2:
   267 00000325 FF 85 FFFFFE10                  	INC	DWORD [-496+EBP]
   268 0000032B 8D 55 C4                        	LEA	EDX,DWORD [-60+EBP]
   269 0000032E FF B5 FFFFFE10                  	PUSH	DWORD [-496+EBP]
   270 00000334 68 [00000045]                   	PUSH	LC5
   271 00000339 52                              	PUSH	EDX
   272 0000033A E8 [00000000]                   	CALL	_sprintf
   273 0000033F 6A 2B                           	PUSH	43
   274 00000341 6A 77                           	PUSH	119
   275 00000343 6A 1C                           	PUSH	28
   276 00000345 6A 28                           	PUSH	40
   277 00000347 6A 08                           	PUSH	8
   278 00000349 68 000000A0                     	PUSH	160
   279 0000034E FF B5 FFFFFDFC                  	PUSH	DWORD [-516+EBP]
   280 00000354 E8 [00000000]                   	CALL	_boxfill8
   281 00000359 8D 45 C4                        	LEA	EAX,DWORD [-60+EBP]
   282 0000035C 83 C4 28                        	ADD	ESP,40
   283 0000035F 50                              	PUSH	EAX
   284 00000360 6A 00                           	PUSH	0
   285 00000362 6A 1C                           	PUSH	28
   286 00000364 6A 28                           	PUSH	40
   287 00000366 68 000000A0                     	PUSH	160
   288 0000036B FF B5 FFFFFDFC                  	PUSH	DWORD [-516+EBP]
   289 00000371 E8 [00000000]                   	CALL	_putfonts8_asc
   290 00000376 6A 2C                           	PUSH	44
   291 00000378 6A 78                           	PUSH	120
   292 0000037A 6A 1C                           	PUSH	28
   293 0000037C 6A 28                           	PUSH	40
   294 0000037E FF B5 FFFFFE04                  	PUSH	DWORD [-508+EBP]
   295 00000384 E8 [00000000]                   	CALL	_sheet_refresh
   296 00000389 83 C4 2C                        	ADD	ESP,44
   297 0000038C E8 [00000000]                   	CALL	_io_cli
   298 00000391 68 [00000000]                   	PUSH	_keyfifo
   299 00000396 E8 [00000000]                   	CALL	_fifo8_status
   300 0000039B 68 [00000000]                   	PUSH	_mousefifo
   301 000003A0 89 C3                           	MOV	EBX,EAX
   302 000003A2 E8 [00000000]                   	CALL	_fifo8_status
   303 000003A7 8D 04 18                        	LEA	EAX,DWORD [EAX+EBX*1]
   304 000003AA 5B                              	POP	EBX
   305 000003AB 5A                              	POP	EDX
   306 000003AC 85 C0                           	TEST	EAX,EAX
   307 000003AE 0F 84 00000214                  	JE	L19
   308 000003B4 68 [00000000]                   	PUSH	_keyfifo
   309 000003B9 E8 [00000000]                   	CALL	_fifo8_status
   310 000003BE 59                              	POP	ECX
   311 000003BF 85 C0                           	TEST	EAX,EAX
   312 000003C1 0F 85 00000199                  	JNE	L20
   313 000003C7 68 [00000000]                   	PUSH	_mousefifo
   314 000003CC E8 [00000000]                   	CALL	_fifo8_status
   315 000003D1 5A                              	POP	EDX
   316 000003D2 85 C0                           	TEST	EAX,EAX
   317 000003D4 0F 84 FFFFFF4B                  	JE	L2
   318 000003DA 68 [00000000]                   	PUSH	_mousefifo
   319 000003DF E8 [00000000]                   	CALL	_fifo8_get
   320 000003E4 89 C3                           	MOV	EBX,EAX
   321 000003E6 E8 [00000000]                   	CALL	_io_sti
   322 000003EB 0F B6 C3                        	MOVZX	EAX,BL
   323 000003EE 50                              	PUSH	EAX
   324 000003EF 8D 85 FFFFFF14                  	LEA	EAX,DWORD [-236+EBP]
   325 000003F5 50                              	PUSH	EAX
   326 000003F6 E8 [00000000]                   	CALL	_mouse_decode
   327 000003FB 83 C4 0C                        	ADD	ESP,12
   328 000003FE 85 C0                           	TEST	EAX,EAX
   329 00000400 0F 84 FFFFFF1F                  	JE	L2
   330 00000406 FF B5 FFFFFF1C                  	PUSH	DWORD [-228+EBP]
   331 0000040C FF B5 FFFFFF18                  	PUSH	DWORD [-232+EBP]
   332 00000412 68 [0000004B]                   	PUSH	LC7
   333 00000417 8D 55 C4                        	LEA	EDX,DWORD [-60+EBP]
   334 0000041A 52                              	PUSH	EDX
   335 0000041B E8 [00000000]                   	CALL	_sprintf
   336 00000420 83 C4 10                        	ADD	ESP,16
   337 00000423 8B 85 FFFFFF20                  	MOV	EAX,DWORD [-224+EBP]
   338 00000429 A9 00000001                     	TEST	EAX,1
   339 0000042E 74 04                           	JE	L11
   340 00000430 C6 45 C5 4C                     	MOV	BYTE [-59+EBP],76
   341 00000434                                 L11:
   342 00000434 A9 00000002                     	TEST	EAX,2
   343 00000439 74 04                           	JE	L12
   344 0000043B C6 45 C7 52                     	MOV	BYTE [-57+EBP],82
   345 0000043F                                 L12:
   346 0000043F 83 E0 04                        	AND	EAX,4
   347 00000442 74 04                           	JE	L13
   348 00000444 C6 45 C6 43                     	MOV	BYTE [-58+EBP],67
   349 00000448                                 L13:
   350 00000448 6A 1F                           	PUSH	31
   351 0000044A 68 00000097                     	PUSH	151
   352 0000044F 6A 10                           	PUSH	16
   353 00000451 6A 20                           	PUSH	32
   354 00000453 6A 0E                           	PUSH	14
   355 00000455 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   356 0000045C 50                              	PUSH	EAX
   357 0000045D FF B5 FFFFFE00                  	PUSH	DWORD [-512+EBP]
   358 00000463 E8 [00000000]                   	CALL	_boxfill8
   359 00000468 8D 45 C4                        	LEA	EAX,DWORD [-60+EBP]
   360 0000046B 50                              	PUSH	EAX
   361 0000046C 6A 07                           	PUSH	7
   362 0000046E 6A 10                           	PUSH	16
   363 00000470 6A 20                           	PUSH	32
   364 00000472 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   365 00000479 50                              	PUSH	EAX
   366 0000047A FF B5 FFFFFE00                  	PUSH	DWORD [-512+EBP]
   367 00000480 E8 [00000000]                   	CALL	_putfonts8_asc
   368 00000485 83 C4 34                        	ADD	ESP,52
   369 00000488 6A 20                           	PUSH	32
   370 0000048A 68 00000098                     	PUSH	152
   371 0000048F 6A 10                           	PUSH	16
   372 00000491 6A 20                           	PUSH	32
   373 00000493 FF B5 FFFFFE0C                  	PUSH	DWORD [-500+EBP]
   374 00000499 E8 [00000000]                   	CALL	_sheet_refresh
   375 0000049E 83 C4 14                        	ADD	ESP,20
   376 000004A1 03 B5 FFFFFF1C                  	ADD	ESI,DWORD [-228+EBP]
   377 000004A7 03 BD FFFFFF18                  	ADD	EDI,DWORD [-232+EBP]
   378 000004AD 0F 88 000000A6                  	JS	L21
   379 000004B3                                 L14:
   380 000004B3 85 F6                           	TEST	ESI,ESI
   381 000004B5 0F 88 00000097                  	JS	L22
   382 000004BB                                 L15:
   383 000004BB 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   384 000004C2 48                              	DEC	EAX
   385 000004C3 39 C7                           	CMP	EDI,EAX
   386 000004C5 7E 02                           	JLE	L16
   387 000004C7 89 C7                           	MOV	EDI,EAX
   388 000004C9                                 L16:
   389 000004C9 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
   390 000004D0 8D 42 FF                        	LEA	EAX,DWORD [-1+EDX]
   391 000004D3 39 C6                           	CMP	ESI,EAX
   392 000004D5 7E 03                           	JLE	L17
   393 000004D7 8D 72 FA                        	LEA	ESI,DWORD [-6+EDX]
   394 000004DA                                 L17:
   395 000004DA 56                              	PUSH	ESI
   396 000004DB 8D 55 C4                        	LEA	EDX,DWORD [-60+EBP]
   397 000004DE 57                              	PUSH	EDI
   398 000004DF 68 [00000023]                   	PUSH	LC3
   399 000004E4 52                              	PUSH	EDX
   400 000004E5 E8 [00000000]                   	CALL	_sprintf
   401 000004EA 6A 0F                           	PUSH	15
   402 000004EC 6A 4F                           	PUSH	79
   403 000004EE 6A 00                           	PUSH	0
   404 000004F0 6A 00                           	PUSH	0
   405 000004F2 6A 0E                           	PUSH	14
   406 000004F4 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   407 000004FB 50                              	PUSH	EAX
   408 000004FC FF B5 FFFFFE00                  	PUSH	DWORD [-512+EBP]
   409 00000502 E8 [00000000]                   	CALL	_boxfill8
   410 00000507 8D 45 C4                        	LEA	EAX,DWORD [-60+EBP]
   411 0000050A 83 C4 2C                        	ADD	ESP,44
   412 0000050D 50                              	PUSH	EAX
   413 0000050E 6A 07                           	PUSH	7
   414 00000510 6A 00                           	PUSH	0
   415 00000512 6A 00                           	PUSH	0
   416 00000514 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   417 0000051B 50                              	PUSH	EAX
   418 0000051C FF B5 FFFFFE00                  	PUSH	DWORD [-512+EBP]
   419 00000522 E8 [00000000]                   	CALL	_putfonts8_asc
   420 00000527 6A 10                           	PUSH	16
   421 00000529 6A 50                           	PUSH	80
   422 0000052B 6A 00                           	PUSH	0
   423 0000052D 6A 00                           	PUSH	0
   424 0000052F FF B5 FFFFFE0C                  	PUSH	DWORD [-500+EBP]
   425 00000535 E8 [00000000]                   	CALL	_sheet_refresh
   426 0000053A 83 C4 2C                        	ADD	ESP,44
   427 0000053D 56                              	PUSH	ESI
   428 0000053E 57                              	PUSH	EDI
   429 0000053F FF B5 FFFFFE08                  	PUSH	DWORD [-504+EBP]
   430 00000545 E8 [00000000]                   	CALL	_sheet_slide
   431 0000054A 83 C4 0C                        	ADD	ESP,12
   432 0000054D E9 FFFFFDD3                     	JMP	L2
   433 00000552                                 L22:
   434 00000552 31 F6                           	XOR	ESI,ESI
   435 00000554 E9 FFFFFF62                     	JMP	L15
   436 00000559                                 L21:
   437 00000559 31 FF                           	XOR	EDI,EDI
   438 0000055B E9 FFFFFF53                     	JMP	L14
   439 00000560                                 L20:
   440 00000560 68 [00000000]                   	PUSH	_keyfifo
   441 00000565 E8 [00000000]                   	CALL	_fifo8_get
   442 0000056A 89 C3                           	MOV	EBX,EAX
   443 0000056C E8 [00000000]                   	CALL	_io_sti
   444 00000571 53                              	PUSH	EBX
   445 00000572 8D 55 C4                        	LEA	EDX,DWORD [-60+EBP]
   446 00000575 68 [00000059]                   	PUSH	LC6
   447 0000057A 52                              	PUSH	EDX
   448 0000057B E8 [00000000]                   	CALL	_sprintf
   449 00000580 6A 1F                           	PUSH	31
   450 00000582 6A 0F                           	PUSH	15
   451 00000584 6A 10                           	PUSH	16
   452 00000586 6A 00                           	PUSH	0
   453 00000588 6A 0E                           	PUSH	14
   454 0000058A 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   455 00000591 50                              	PUSH	EAX
   456 00000592 FF B5 FFFFFE00                  	PUSH	DWORD [-512+EBP]
   457 00000598 E8 [00000000]                   	CALL	_boxfill8
   458 0000059D 8D 45 C4                        	LEA	EAX,DWORD [-60+EBP]
   459 000005A0 83 C4 2C                        	ADD	ESP,44
   460 000005A3 50                              	PUSH	EAX
   461 000005A4 6A 07                           	PUSH	7
   462 000005A6 6A 10                           	PUSH	16
   463 000005A8 6A 00                           	PUSH	0
   464 000005AA 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   465 000005B1 50                              	PUSH	EAX
   466 000005B2 FF B5 FFFFFE00                  	PUSH	DWORD [-512+EBP]
   467 000005B8 E8 [00000000]                   	CALL	_putfonts8_asc
   468 000005BD 6A 20                           	PUSH	32
   469 000005BF 6A 10                           	PUSH	16
   470 000005C1 6A 10                           	PUSH	16
   471 000005C3 E9 FFFFFD4D                     	JMP	L18
   472 000005C8                                 L19:
   473 000005C8 E8 [00000000]                   	CALL	_io_sti
   474 000005CD E9 FFFFFD53                     	JMP	L2
   475                                          [SECTION .data]
   476 0000005E                                 _closebtn.0:
   477 0000005E 4F 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"OOOOOOOOOOOOOOO@"
       00000068 4F 4F 4F 4F 4F 40 
   478 0000006E 4F 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"OOOOOOOOOOOOOO$@"
       00000078 4F 4F 4F 4F 24 40 
   479 0000007E 4F 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"OOOOOOOOOOOOOO$@"
       00000088 4F 4F 4F 4F 24 40 
   480 0000008E 4F 4F 4F 4F 40 40 4F 4F 4F 4F   	DB	"OOOO@@OOOO@@OO$@"
       00000098 40 40 4F 4F 24 40 
   481 0000009E 4F 4F 4F 4F 4F 40 40 4F 4F 40   	DB	"OOOOO@@OO@@OOO$@"
       000000A8 40 4F 4F 4F 24 40 
   482 000000AE 4F 4F 4F 4F 4F 4F 40 40 40 40   	DB	"OOOOOO@@@@OOOO$@"
       000000B8 4F 4F 4F 4F 24 40 
   483 000000BE 4F 4F 4F 4F 4F 4F 4F 40 40 4F   	DB	"OOOOOOO@@OOOOO$@"
       000000C8 4F 4F 4F 4F 24 40 
   484 000000CE 4F 4F 4F 4F 4F 4F 40 40 40 40   	DB	"OOOOOO@@@@OOOO$@"
       000000D8 4F 4F 4F 4F 24 40 
   485 000000DE 4F 4F 4F 4F 4F 40 40 4F 4F 40   	DB	"OOOOO@@OO@@OOO$@"
       000000E8 40 4F 4F 4F 24 40 
   486 000000EE 4F 4F 4F 4F 40 40 4F 4F 4F 4F   	DB	"OOOO@@OOOO@@OO$@"
       000000F8 40 40 4F 4F 24 40 
   487 000000FE 4F 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"OOOOOOOOOOOOOO$@"
       00000108 4F 4F 4F 4F 24 40 
   488 0000010E 4F 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"OOOOOOOOOOOOOO$@"
       00000118 4F 4F 4F 4F 24 40 
   489 0000011E 4F 24 24 24 24 24 24 24 24 24   	DB	"O$$$$$$$$$$$$$$@"
       00000128 24 24 24 24 24 40 
   490 0000012E 40 40 40 40 40 40 40 40 40 40   	DB	"@@@@@@@@@@@@@@@@"
       00000138 40 40 40 40 40 40 
   491                                          [SECTION .text]
   492 000005D2                                 	GLOBAL	_make_window8
   493 000005D2                                 _make_window8:
   494 000005D2 55                              	PUSH	EBP
   495 000005D3 89 E5                           	MOV	EBP,ESP
   496 000005D5 57                              	PUSH	EDI
   497 000005D6 56                              	PUSH	ESI
   498 000005D7 53                              	PUSH	EBX
   499 000005D8 83 EC 14                        	SUB	ESP,20
   500 000005DB 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   501 000005DE 6A 00                           	PUSH	0
   502 000005E0 8D 43 FF                        	LEA	EAX,DWORD [-1+EBX]
   503 000005E3 8D 7B FE                        	LEA	EDI,DWORD [-2+EBX]
   504 000005E6 50                              	PUSH	EAX
   505 000005E7 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   506 000005EA 6A 00                           	PUSH	0
   507 000005EC 6A 00                           	PUSH	0
   508 000005EE 6A 08                           	PUSH	8
   509 000005F0 53                              	PUSH	EBX
   510 000005F1 FF 75 08                        	PUSH	DWORD [8+EBP]
   511 000005F4 E8 [00000000]                   	CALL	_boxfill8
   512 000005F9 6A 01                           	PUSH	1
   513 000005FB 57                              	PUSH	EDI
   514 000005FC 6A 01                           	PUSH	1
   515 000005FE 6A 01                           	PUSH	1
   516 00000600 6A 07                           	PUSH	7
   517 00000602 53                              	PUSH	EBX
   518 00000603 FF 75 08                        	PUSH	DWORD [8+EBP]
   519 00000606 E8 [00000000]                   	CALL	_boxfill8
   520 0000060B 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
   521 0000060E 83 C4 38                        	ADD	ESP,56
   522 00000611 4A                              	DEC	EDX
   523 00000612 89 55 E8                        	MOV	DWORD [-24+EBP],EDX
   524 00000615 52                              	PUSH	EDX
   525 00000616 6A 00                           	PUSH	0
   526 00000618 6A 00                           	PUSH	0
   527 0000061A 6A 00                           	PUSH	0
   528 0000061C 6A 08                           	PUSH	8
   529 0000061E 53                              	PUSH	EBX
   530 0000061F FF 75 08                        	PUSH	DWORD [8+EBP]
   531 00000622 E8 [00000000]                   	CALL	_boxfill8
   532 00000627 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   533 0000062A 83 EE 02                        	SUB	ESI,2
   534 0000062D 56                              	PUSH	ESI
   535 0000062E 6A 01                           	PUSH	1
   536 00000630 6A 01                           	PUSH	1
   537 00000632 6A 01                           	PUSH	1
   538 00000634 6A 07                           	PUSH	7
   539 00000636 53                              	PUSH	EBX
   540 00000637 FF 75 08                        	PUSH	DWORD [8+EBP]
   541 0000063A E8 [00000000]                   	CALL	_boxfill8
   542 0000063F 83 C4 38                        	ADD	ESP,56
   543 00000642 56                              	PUSH	ESI
   544 00000643 57                              	PUSH	EDI
   545 00000644 6A 01                           	PUSH	1
   546 00000646 57                              	PUSH	EDI
   547 00000647 6A 0F                           	PUSH	15
   548 00000649 53                              	PUSH	EBX
   549 0000064A FF 75 08                        	PUSH	DWORD [8+EBP]
   550 0000064D E8 [00000000]                   	CALL	_boxfill8
   551 00000652 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   552 00000655 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   553 00000658 6A 00                           	PUSH	0
   554 0000065A FF 75 EC                        	PUSH	DWORD [-20+EBP]
   555 0000065D 6A 00                           	PUSH	0
   556 0000065F 53                              	PUSH	EBX
   557 00000660 FF 75 08                        	PUSH	DWORD [8+EBP]
   558 00000663 E8 [00000000]                   	CALL	_boxfill8
   559 00000668 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   560 0000066B 83 C4 38                        	ADD	ESP,56
   561 0000066E 83 E8 03                        	SUB	EAX,3
   562 00000671 50                              	PUSH	EAX
   563 00000672 8D 43 FD                        	LEA	EAX,DWORD [-3+EBX]
   564 00000675 50                              	PUSH	EAX
   565 00000676 6A 02                           	PUSH	2
   566 00000678 6A 02                           	PUSH	2
   567 0000067A 6A 08                           	PUSH	8
   568 0000067C 53                              	PUSH	EBX
   569 0000067D FF 75 08                        	PUSH	DWORD [8+EBP]
   570 00000680 E8 [00000000]                   	CALL	_boxfill8
   571 00000685 8D 43 FC                        	LEA	EAX,DWORD [-4+EBX]
   572 00000688 6A 14                           	PUSH	20
   573 0000068A 50                              	PUSH	EAX
   574 0000068B 6A 03                           	PUSH	3
   575 0000068D 6A 03                           	PUSH	3
   576 0000068F 6A 0C                           	PUSH	12
   577 00000691 53                              	PUSH	EBX
   578 00000692 FF 75 08                        	PUSH	DWORD [8+EBP]
   579 00000695 E8 [00000000]                   	CALL	_boxfill8
   580 0000069A 83 C4 38                        	ADD	ESP,56
   581 0000069D 56                              	PUSH	ESI
   582 0000069E 57                              	PUSH	EDI
   583 0000069F 56                              	PUSH	ESI
   584 000006A0 6A 01                           	PUSH	1
   585 000006A2 6A 0F                           	PUSH	15
   586 000006A4 53                              	PUSH	EBX
   587 000006A5 FF 75 08                        	PUSH	DWORD [8+EBP]
   588 000006A8 E8 [00000000]                   	CALL	_boxfill8
   589 000006AD FF 75 E8                        	PUSH	DWORD [-24+EBP]
   590 000006B0 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   591 000006B3 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   592 000006B6 6A 00                           	PUSH	0
   593 000006B8 6A 00                           	PUSH	0
   594 000006BA 6B F3 05                        	IMUL	ESI,EBX,5
   595 000006BD 53                              	PUSH	EBX
   596 000006BE FF 75 08                        	PUSH	DWORD [8+EBP]
   597 000006C1 E8 [00000000]                   	CALL	_boxfill8
   598 000006C6 83 C4 38                        	ADD	ESP,56
   599 000006C9 FF 75 14                        	PUSH	DWORD [20+EBP]
   600 000006CC 6A 07                           	PUSH	7
   601 000006CE 6A 04                           	PUSH	4
   602 000006D0 6A 18                           	PUSH	24
   603 000006D2 53                              	PUSH	EBX
   604 000006D3 FF 75 08                        	PUSH	DWORD [8+EBP]
   605 000006D6 E8 [00000000]                   	CALL	_putfonts8_asc
   606 000006DB 83 C4 18                        	ADD	ESP,24
   607 000006DE C7 45 F0 00000000               	MOV	DWORD [-16+EBP],0
   608 000006E5 C7 45 E0 00000000               	MOV	DWORD [-32+EBP],0
   609 000006EC                                 L39:
   610 000006EC 8D 04 1E                        	LEA	EAX,DWORD [ESI+EBX*1]
   611 000006EF 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   612 000006F2 31 FF                           	XOR	EDI,EDI
   613 000006F4 8D 4C 02 EB                     	LEA	ECX,DWORD [-21+EDX+EAX*1]
   614 000006F8                                 L38:
   615 000006F8 8B 45 E0                        	MOV	EAX,DWORD [-32+EBP]
   616 000006FB 8A 94 07 [0000005E]             	MOV	DL,BYTE [_closebtn.0+EDI+EAX*1]
   617 00000702 80 FA 40                        	CMP	DL,64
   618 00000705 74 33                           	JE	L44
   619 00000707 80 FA 24                        	CMP	DL,36
   620 0000070A 74 2A                           	JE	L45
   621 0000070C 80 FA 4F                        	CMP	DL,79
   622 0000070F B2 08                           	MOV	DL,8
   623 00000711 0F 95 C0                        	SETNE	AL
   624 00000714 28 C2                           	SUB	DL,AL
   625 00000716                                 L33:
   626 00000716 47                              	INC	EDI
   627 00000717 88 11                           	MOV	BYTE [ECX],DL
   628 00000719 41                              	INC	ECX
   629 0000071A 83 FF 0F                        	CMP	EDI,15
   630 0000071D 7E D9                           	JLE	L38
   631 0000071F FF 45 F0                        	INC	DWORD [-16+EBP]
   632 00000722 01 DE                           	ADD	ESI,EBX
   633 00000724 83 45 E0 10                     	ADD	DWORD [-32+EBP],16
   634 00000728 83 7D F0 0D                     	CMP	DWORD [-16+EBP],13
   635 0000072C 7E BE                           	JLE	L39
   636 0000072E 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   637 00000731 5B                              	POP	EBX
   638 00000732 5E                              	POP	ESI
   639 00000733 5F                              	POP	EDI
   640 00000734 5D                              	POP	EBP
   641 00000735 C3                              	RET
   642 00000736                                 L45:
   643 00000736 B2 0F                           	MOV	DL,15
   644 00000738 EB DC                           	JMP	L33
   645 0000073A                                 L44:
   646 0000073A 31 D2                           	XOR	EDX,EDX
   647 0000073C EB D8                           	JMP	L33
