     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_init_gdtidt
     7 00000000                                 	EXTERN	_init_pic
     8 00000000                                 	EXTERN	_io_sti
     9 00000000                                 	EXTERN	_keyfifo
    10 00000000                                 	EXTERN	_fifo8_init
    11 00000000                                 	EXTERN	_mousefifo
    12 00000000                                 	EXTERN	_init_pit
    13 00000000                                 	EXTERN	_io_out8
    14 00000000                                 	EXTERN	_settimer
    15 00000000                                 	EXTERN	_init_keyboard
    16 00000000                                 	EXTERN	_enable_mouse
    17 00000000                                 	EXTERN	_memtest
    18 00000000                                 	EXTERN	_memman_init
    19 00000000                                 	EXTERN	_memman_free
    20 00000000                                 	EXTERN	_init_palette
    21 00000000                                 	EXTERN	_shtctl_init
    22 00000000                                 	EXTERN	_sheet_alloc
    23 00000000                                 	EXTERN	_memman_alloc_4k
    24 00000000                                 	EXTERN	_sheet_setbuf
    25 00000000                                 	EXTERN	_init_screen8
    26 00000000                                 	EXTERN	_init_mouse_cursor8
    27 00000000                                 	EXTERN	_putfonts8_asc
    28 00000000                                 	EXTERN	_sheet_slide
    29 00000000                                 	EXTERN	_sheet_updown
    30 00000000                                 	EXTERN	_sprintf
    31 00000000                                 	EXTERN	_memman_total
    32 00000000                                 	EXTERN	_sheet_refresh
    33 00000000                                 	EXTERN	_timerctl
    34 00000000                                 	EXTERN	_boxfill8
    35 00000000                                 	EXTERN	_io_cli
    36 00000000                                 	EXTERN	_fifo8_status
    37 00000000                                 	EXTERN	_fifo8_get
    38 00000000                                 	EXTERN	_mouse_decode
    39 00000000                                 [FILE "bootpack.c"]
    40                                          [SECTION .data]
    41 00000000                                 LC0:
    42 00000000 63 6F 75 6E 74 65 72 00         	DB	"counter",0x00
    43 00000008                                 LC1:
    44 00000008 57 65 6C 63 6F 6D 65 20 74 6F   	DB	"Welcome to",0x00
       00000012 00 
    45 00000013                                 LC2:
    46 00000013 20 20 20 20 48 61 72 69 62 6F   	DB	"    Haribote-OS",0x00
       0000001D 74 65 2D 4F 53 00 
    47 00000023                                 LC3:
    48 00000023 28 25 33 64 2C 20 25 33 64 29   	DB	"(%3d, %3d)",0x00
       0000002D 00 
    49 0000002E                                 LC4:
    50 0000002E 6D 65 6D 6F 72 79 20 25 64 4D   	DB	"memory %dMB free: %dKB",0x00
       00000038 42 20 66 72 65 65 3A 20 25 64 
       00000042 4B 42 00 
    51 00000045                                 LC5:
    52 00000045 25 30 31 30 64 00               	DB	"%010d",0x00
    53 0000004B                                 LC8:
    54 0000004B 31 53 28 25 33 64 29 00         	DB	"1S(%3d)",0x00
    55 00000053                                 LC7:
    56 00000053 5B 6C 63 72 20 25 34 64 20 25   	DB	"[lcr %4d %4d]",0x00
       0000005D 34 64 5D 00 
    57 00000061                                 LC6:
    58 00000061 25 30 32 58 00                  	DB	"%02X",0x00
    59                                          [SECTION .text]
    60 00000000                                 	GLOBAL	_HariMain
    61 00000000                                 _HariMain:
    62 00000000 55                              	PUSH	EBP
    63 00000001 89 E5                           	MOV	EBP,ESP
    64 00000003 57                              	PUSH	EDI
    65 00000004 56                              	PUSH	ESI
    66 00000005 53                              	PUSH	EBX
    67 00000006 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
    68 00000009 81 EC 00000228                  	SUB	ESP,552
    69 0000000F E8 [00000000]                   	CALL	_init_gdtidt
    70 00000014 E8 [00000000]                   	CALL	_init_pic
    71 00000019 E8 [00000000]                   	CALL	_io_sti
    72 0000001E 8D 45 84                        	LEA	EAX,DWORD [-124+EBP]
    73 00000021 50                              	PUSH	EAX
    74 00000022 6A 20                           	PUSH	32
    75 00000024 68 [00000000]                   	PUSH	_keyfifo
    76 00000029 E8 [00000000]                   	CALL	_fifo8_init
    77 0000002E 8D 85 FFFFFF04                  	LEA	EAX,DWORD [-252+EBP]
    78 00000034 50                              	PUSH	EAX
    79 00000035 68 00000080                     	PUSH	128
    80 0000003A 68 [00000000]                   	PUSH	_mousefifo
    81 0000003F E8 [00000000]                   	CALL	_fifo8_init
    82 00000044 E8 [00000000]                   	CALL	_init_pit
    83 00000049 68 000000F8                     	PUSH	248
    84 0000004E 6A 21                           	PUSH	33
    85 00000050 E8 [00000000]                   	CALL	_io_out8
    86 00000055 83 C4 20                        	ADD	ESP,32
    87 00000058 68 000000EF                     	PUSH	239
    88 0000005D 68 000000A1                     	PUSH	161
    89 00000062 E8 [00000000]                   	CALL	_io_out8
    90 00000067 8D 85 FFFFFDEC                  	LEA	EAX,DWORD [-532+EBP]
    91 0000006D 50                              	PUSH	EAX
    92 0000006E 6A 08                           	PUSH	8
    93 00000070 53                              	PUSH	EBX
    94 00000071 E8 [00000000]                   	CALL	_fifo8_init
    95 00000076 6A 01                           	PUSH	1
    96 00000078 53                              	PUSH	EBX
    97 00000079 68 000001F4                     	PUSH	500
    98 0000007E E8 [00000000]                   	CALL	_settimer
    99 00000083 83 C4 20                        	ADD	ESP,32
   100 00000086 E8 [00000000]                   	CALL	_init_keyboard
   101 0000008B 8D 85 FFFFFEF4                  	LEA	EAX,DWORD [-268+EBP]
   102 00000091 50                              	PUSH	EAX
   103 00000092 E8 [00000000]                   	CALL	_enable_mouse
   104 00000097 68 BFFFFFFF                     	PUSH	-1073741825
   105 0000009C 68 00400000                     	PUSH	4194304
   106 000000A1 E8 [00000000]                   	CALL	_memtest
   107 000000A6 68 0003C000                     	PUSH	245760
   108 000000AB 89 C3                           	MOV	EBX,EAX
   109 000000AD E8 [00000000]                   	CALL	_memman_init
   110 000000B2 68 0009E000                     	PUSH	647168
   111 000000B7 68 00001000                     	PUSH	4096
   112 000000BC 68 0003C000                     	PUSH	245760
   113 000000C1 E8 [00000000]                   	CALL	_memman_free
   114 000000C6 8D 83 FFC00000                  	LEA	EAX,DWORD [-4194304+EBX]
   115 000000CC 50                              	PUSH	EAX
   116 000000CD 68 00400000                     	PUSH	4194304
   117 000000D2 68 0003C000                     	PUSH	245760
   118 000000D7 E8 [00000000]                   	CALL	_memman_free
   119 000000DC 83 C4 28                        	ADD	ESP,40
   120 000000DF E8 [00000000]                   	CALL	_init_palette
   121 000000E4 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   122 000000EB 50                              	PUSH	EAX
   123 000000EC 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   124 000000F3 50                              	PUSH	EAX
   125 000000F4 FF 35 00000FF8                  	PUSH	DWORD [4088]
   126 000000FA 68 0003C000                     	PUSH	245760
   127 000000FF E8 [00000000]                   	CALL	_shtctl_init
   128 00000104 89 C3                           	MOV	EBX,EAX
   129 00000106 50                              	PUSH	EAX
   130 00000107 E8 [00000000]                   	CALL	_sheet_alloc
   131 0000010C 53                              	PUSH	EBX
   132 0000010D 89 85 FFFFFDE4                  	MOV	DWORD [-540+EBP],EAX
   133 00000113 E8 [00000000]                   	CALL	_sheet_alloc
   134 00000118 53                              	PUSH	EBX
   135 00000119 8D 9D FFFFFDF4                  	LEA	EBX,DWORD [-524+EBP]
   136 0000011F 89 85 FFFFFDE0                  	MOV	DWORD [-544+EBP],EAX
   137 00000125 E8 [00000000]                   	CALL	_sheet_alloc
   138 0000012A 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
   139 00000131 89 85 FFFFFDDC                  	MOV	DWORD [-548+EBP],EAX
   140 00000137 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   141 0000013E 0F AF C2                        	IMUL	EAX,EDX
   142 00000141 50                              	PUSH	EAX
   143 00000142 68 0003C000                     	PUSH	245760
   144 00000147 E8 [00000000]                   	CALL	_memman_alloc_4k
   145 0000014C 83 C4 24                        	ADD	ESP,36
   146 0000014F 68 00002080                     	PUSH	8320
   147 00000154 89 85 FFFFFDD8                  	MOV	DWORD [-552+EBP],EAX
   148 0000015A 68 0003C000                     	PUSH	245760
   149 0000015F E8 [00000000]                   	CALL	_memman_alloc_4k
   150 00000164 6A FF                           	PUSH	-1
   151 00000166 89 85 FFFFFDD4                  	MOV	DWORD [-556+EBP],EAX
   152 0000016C 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   153 00000173 50                              	PUSH	EAX
   154 00000174 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   155 0000017B 50                              	PUSH	EAX
   156 0000017C FF B5 FFFFFDD8                  	PUSH	DWORD [-552+EBP]
   157 00000182 FF B5 FFFFFDE4                  	PUSH	DWORD [-540+EBP]
   158 00000188 E8 [00000000]                   	CALL	_sheet_setbuf
   159 0000018D 6A 63                           	PUSH	99
   160 0000018F 6A 10                           	PUSH	16
   161 00000191 6A 10                           	PUSH	16
   162 00000193 53                              	PUSH	EBX
   163 00000194 FF B5 FFFFFDE0                  	PUSH	DWORD [-544+EBP]
   164 0000019A E8 [00000000]                   	CALL	_sheet_setbuf
   165 0000019F 83 C4 30                        	ADD	ESP,48
   166 000001A2 6A FF                           	PUSH	-1
   167 000001A4 6A 34                           	PUSH	52
   168 000001A6 68 000000A0                     	PUSH	160
   169 000001AB FF B5 FFFFFDD4                  	PUSH	DWORD [-556+EBP]
   170 000001B1 FF B5 FFFFFDDC                  	PUSH	DWORD [-548+EBP]
   171 000001B7 E8 [00000000]                   	CALL	_sheet_setbuf
   172 000001BC 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   173 000001C3 50                              	PUSH	EAX
   174 000001C4 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   175 000001CB 50                              	PUSH	EAX
   176 000001CC FF B5 FFFFFDD8                  	PUSH	DWORD [-552+EBP]
   177 000001D2 E8 [00000000]                   	CALL	_init_screen8
   178 000001D7 83 C4 20                        	ADD	ESP,32
   179 000001DA 6A 63                           	PUSH	99
   180 000001DC 53                              	PUSH	EBX
   181 000001DD BB 00000002                     	MOV	EBX,2
   182 000001E2 E8 [00000000]                   	CALL	_init_mouse_cursor8
   183 000001E7 68 [00000000]                   	PUSH	LC0
   184 000001EC 6A 34                           	PUSH	52
   185 000001EE 68 000000A0                     	PUSH	160
   186 000001F3 FF B5 FFFFFDD4                  	PUSH	DWORD [-556+EBP]
   187 000001F9 E8 00000481                     	CALL	_make_window8
   188 000001FE 68 [00000008]                   	PUSH	LC1
   189 00000203 6A 00                           	PUSH	0
   190 00000205 6A 1C                           	PUSH	28
   191 00000207 6A 18                           	PUSH	24
   192 00000209 68 000000A0                     	PUSH	160
   193 0000020E FF B5 FFFFFDD4                  	PUSH	DWORD [-556+EBP]
   194 00000214 E8 [00000000]                   	CALL	_putfonts8_asc
   195 00000219 83 C4 30                        	ADD	ESP,48
   196 0000021C 68 [00000013]                   	PUSH	LC2
   197 00000221 6A 00                           	PUSH	0
   198 00000223 6A 2C                           	PUSH	44
   199 00000225 6A 18                           	PUSH	24
   200 00000227 68 000000A0                     	PUSH	160
   201 0000022C FF B5 FFFFFDD4                  	PUSH	DWORD [-556+EBP]
   202 00000232 E8 [00000000]                   	CALL	_putfonts8_asc
   203 00000237 6A 00                           	PUSH	0
   204 00000239 6A 00                           	PUSH	0
   205 0000023B FF B5 FFFFFDE4                  	PUSH	DWORD [-540+EBP]
   206 00000241 E8 [00000000]                   	CALL	_sheet_slide
   207 00000246 83 C4 24                        	ADD	ESP,36
   208 00000249 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   209 00000250 8D 48 F0                        	LEA	ECX,DWORD [-16+EAX]
   210 00000253 89 C8                           	MOV	EAX,ECX
   211 00000255 99                              	CDQ
   212 00000256 F7 FB                           	IDIV	EBX
   213 00000258 89 85 FFFFFDE8                  	MOV	DWORD [-536+EBP],EAX
   214 0000025E 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   215 00000265 8D 48 D4                        	LEA	ECX,DWORD [-44+EAX]
   216 00000268 89 C8                           	MOV	EAX,ECX
   217 0000026A 99                              	CDQ
   218 0000026B F7 FB                           	IDIV	EBX
   219 0000026D 50                              	PUSH	EAX
   220 0000026E 89 C7                           	MOV	EDI,EAX
   221 00000270 FF B5 FFFFFDE8                  	PUSH	DWORD [-536+EBP]
   222 00000276 FF B5 FFFFFDE0                  	PUSH	DWORD [-544+EBP]
   223 0000027C 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   224 0000027F E8 [00000000]                   	CALL	_sheet_slide
   225 00000284 6A 48                           	PUSH	72
   226 00000286 6A 50                           	PUSH	80
   227 00000288 FF B5 FFFFFDDC                  	PUSH	DWORD [-548+EBP]
   228 0000028E E8 [00000000]                   	CALL	_sheet_slide
   229 00000293 6A 00                           	PUSH	0
   230 00000295 FF B5 FFFFFDE4                  	PUSH	DWORD [-540+EBP]
   231 0000029B E8 [00000000]                   	CALL	_sheet_updown
   232 000002A0 83 C4 20                        	ADD	ESP,32
   233 000002A3 6A 01                           	PUSH	1
   234 000002A5 FF B5 FFFFFDDC                  	PUSH	DWORD [-548+EBP]
   235 000002AB E8 [00000000]                   	CALL	_sheet_updown
   236 000002B0 6A 02                           	PUSH	2
   237 000002B2 FF B5 FFFFFDE0                  	PUSH	DWORD [-544+EBP]
   238 000002B8 E8 [00000000]                   	CALL	_sheet_updown
   239 000002BD 57                              	PUSH	EDI
   240 000002BE FF B5 FFFFFDE8                  	PUSH	DWORD [-536+EBP]
   241 000002C4 68 [00000023]                   	PUSH	LC3
   242 000002C9 53                              	PUSH	EBX
   243 000002CA E8 [00000000]                   	CALL	_sprintf
   244 000002CF 83 C4 20                        	ADD	ESP,32
   245 000002D2 53                              	PUSH	EBX
   246 000002D3 6A 07                           	PUSH	7
   247 000002D5 6A 00                           	PUSH	0
   248 000002D7 6A 00                           	PUSH	0
   249 000002D9 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   250 000002E0 50                              	PUSH	EAX
   251 000002E1 FF B5 FFFFFDD8                  	PUSH	DWORD [-552+EBP]
   252 000002E7 E8 [00000000]                   	CALL	_putfonts8_asc
   253 000002EC 68 0003C000                     	PUSH	245760
   254 000002F1 E8 [00000000]                   	CALL	_memman_total
   255 000002F6 C1 E8 0A                        	SHR	EAX,10
   256 000002F9 89 04 24                        	MOV	DWORD [ESP],EAX
   257 000002FC 68 0003C000                     	PUSH	245760
   258 00000301 E8 [00000000]                   	CALL	_memman_total
   259 00000306 C1 E8 14                        	SHR	EAX,20
   260 00000309 89 04 24                        	MOV	DWORD [ESP],EAX
   261 0000030C 68 [0000002E]                   	PUSH	LC4
   262 00000311 53                              	PUSH	EBX
   263 00000312 E8 [00000000]                   	CALL	_sprintf
   264 00000317 83 C4 28                        	ADD	ESP,40
   265 0000031A 53                              	PUSH	EBX
   266 0000031B 6A 07                           	PUSH	7
   267 0000031D 6A 20                           	PUSH	32
   268 0000031F 6A 00                           	PUSH	0
   269 00000321 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   270 00000328 50                              	PUSH	EAX
   271 00000329 FF B5 FFFFFDD8                  	PUSH	DWORD [-552+EBP]
   272 0000032F E8 [00000000]                   	CALL	_putfonts8_asc
   273 00000334 6A 30                           	PUSH	48
   274 00000336 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   275 0000033D 50                              	PUSH	EAX
   276 0000033E 6A 00                           	PUSH	0
   277 00000340                                 L20:
   278 00000340 6A 00                           	PUSH	0
   279 00000342 FF B5 FFFFFDE4                  	PUSH	DWORD [-540+EBP]
   280 00000348 E8 [00000000]                   	CALL	_sheet_refresh
   281 0000034D 83 C4 2C                        	ADD	ESP,44
   282 00000350                                 L2:
   283 00000350 FF 35 [00000000]                	PUSH	DWORD [_timerctl]
   284 00000356 68 [00000045]                   	PUSH	LC5
   285 0000035B 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   286 0000035E 53                              	PUSH	EBX
   287 0000035F 8D 75 D4                        	LEA	ESI,DWORD [-44+EBP]
   288 00000362 E8 [00000000]                   	CALL	_sprintf
   289 00000367 6A 2B                           	PUSH	43
   290 00000369 6A 77                           	PUSH	119
   291 0000036B 6A 1C                           	PUSH	28
   292 0000036D 6A 28                           	PUSH	40
   293 0000036F 6A 08                           	PUSH	8
   294 00000371 68 000000A0                     	PUSH	160
   295 00000376 FF B5 FFFFFDD4                  	PUSH	DWORD [-556+EBP]
   296 0000037C E8 [00000000]                   	CALL	_boxfill8
   297 00000381 83 C4 28                        	ADD	ESP,40
   298 00000384 53                              	PUSH	EBX
   299 00000385 6A 00                           	PUSH	0
   300 00000387 6A 1C                           	PUSH	28
   301 00000389 6A 28                           	PUSH	40
   302 0000038B 68 000000A0                     	PUSH	160
   303 00000390 FF B5 FFFFFDD4                  	PUSH	DWORD [-556+EBP]
   304 00000396 E8 [00000000]                   	CALL	_putfonts8_asc
   305 0000039B 6A 2C                           	PUSH	44
   306 0000039D 6A 78                           	PUSH	120
   307 0000039F 6A 1C                           	PUSH	28
   308 000003A1 6A 28                           	PUSH	40
   309 000003A3 FF B5 FFFFFDDC                  	PUSH	DWORD [-548+EBP]
   310 000003A9 E8 [00000000]                   	CALL	_sheet_refresh
   311 000003AE 83 C4 2C                        	ADD	ESP,44
   312 000003B1 E8 [00000000]                   	CALL	_io_cli
   313 000003B6 68 [00000000]                   	PUSH	_keyfifo
   314 000003BB E8 [00000000]                   	CALL	_fifo8_status
   315 000003C0 68 [00000000]                   	PUSH	_mousefifo
   316 000003C5 89 C3                           	MOV	EBX,EAX
   317 000003C7 E8 [00000000]                   	CALL	_fifo8_status
   318 000003CC 56                              	PUSH	ESI
   319 000003CD 01 C3                           	ADD	EBX,EAX
   320 000003CF E8 [00000000]                   	CALL	_fifo8_status
   321 000003D4 83 C4 0C                        	ADD	ESP,12
   322 000003D7 8D 04 18                        	LEA	EAX,DWORD [EAX+EBX*1]
   323 000003DA 85 C0                           	TEST	EAX,EAX
   324 000003DC 0F 84 00000293                  	JE	L21
   325 000003E2 68 [00000000]                   	PUSH	_keyfifo
   326 000003E7 E8 [00000000]                   	CALL	_fifo8_status
   327 000003EC 5B                              	POP	EBX
   328 000003ED 85 C0                           	TEST	EAX,EAX
   329 000003EF 0F 85 00000218                  	JNE	L22
   330 000003F5 68 [00000000]                   	PUSH	_mousefifo
   331 000003FA E8 [00000000]                   	CALL	_fifo8_status
   332 000003FF 59                              	POP	ECX
   333 00000400 85 C0                           	TEST	EAX,EAX
   334 00000402 75 66                           	JNE	L23
   335 00000404 56                              	PUSH	ESI
   336 00000405 E8 [00000000]                   	CALL	_fifo8_status
   337 0000040A 5A                              	POP	EDX
   338 0000040B 85 C0                           	TEST	EAX,EAX
   339 0000040D 0F 84 FFFFFF3D                  	JE	L2
   340 00000413 56                              	PUSH	ESI
   341 00000414 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   342 00000417 E8 [00000000]                   	CALL	_fifo8_get
   343 0000041C FF 35 [00000004]                	PUSH	DWORD [_timerctl+4]
   344 00000422 68 [0000004B]                   	PUSH	LC8
   345 00000427 53                              	PUSH	EBX
   346 00000428 E8 [00000000]                   	CALL	_sprintf
   347 0000042D E8 [00000000]                   	CALL	_io_sti
   348 00000432 53                              	PUSH	EBX
   349 00000433 6A 07                           	PUSH	7
   350 00000435 6A 40                           	PUSH	64
   351 00000437 6A 00                           	PUSH	0
   352 00000439 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   353 00000440 50                              	PUSH	EAX
   354 00000441 FF B5 FFFFFDD8                  	PUSH	DWORD [-552+EBP]
   355 00000447 E8 [00000000]                   	CALL	_putfonts8_asc
   356 0000044C 83 C4 28                        	ADD	ESP,40
   357 0000044F 6A 50                           	PUSH	80
   358 00000451 6A 38                           	PUSH	56
   359 00000453 6A 40                           	PUSH	64
   360 00000455 6A 00                           	PUSH	0
   361 00000457 FF B5 FFFFFDE4                  	PUSH	DWORD [-540+EBP]
   362 0000045D E8 [00000000]                   	CALL	_sheet_refresh
   363 00000462 83 C4 14                        	ADD	ESP,20
   364 00000465 E9 FFFFFEE6                     	JMP	L2
   365 0000046A                                 L23:
   366 0000046A 68 [00000000]                   	PUSH	_mousefifo
   367 0000046F E8 [00000000]                   	CALL	_fifo8_get
   368 00000474 89 C3                           	MOV	EBX,EAX
   369 00000476 E8 [00000000]                   	CALL	_io_sti
   370 0000047B 0F B6 C3                        	MOVZX	EAX,BL
   371 0000047E 50                              	PUSH	EAX
   372 0000047F 8D 85 FFFFFEF4                  	LEA	EAX,DWORD [-268+EBP]
   373 00000485 50                              	PUSH	EAX
   374 00000486 E8 [00000000]                   	CALL	_mouse_decode
   375 0000048B 83 C4 0C                        	ADD	ESP,12
   376 0000048E 85 C0                           	TEST	EAX,EAX
   377 00000490 0F 84 FFFFFEBA                  	JE	L2
   378 00000496 FF B5 FFFFFEFC                  	PUSH	DWORD [-260+EBP]
   379 0000049C FF B5 FFFFFEF8                  	PUSH	DWORD [-264+EBP]
   380 000004A2 68 [00000053]                   	PUSH	LC7
   381 000004A7 8D 45 A4                        	LEA	EAX,DWORD [-92+EBP]
   382 000004AA 50                              	PUSH	EAX
   383 000004AB E8 [00000000]                   	CALL	_sprintf
   384 000004B0 83 C4 10                        	ADD	ESP,16
   385 000004B3 8B 85 FFFFFF00                  	MOV	EAX,DWORD [-256+EBP]
   386 000004B9 A9 00000001                     	TEST	EAX,1
   387 000004BE 74 04                           	JE	L11
   388 000004C0 C6 45 A5 4C                     	MOV	BYTE [-91+EBP],76
   389 000004C4                                 L11:
   390 000004C4 A9 00000002                     	TEST	EAX,2
   391 000004C9 74 04                           	JE	L12
   392 000004CB C6 45 A7 52                     	MOV	BYTE [-89+EBP],82
   393 000004CF                                 L12:
   394 000004CF 83 E0 04                        	AND	EAX,4
   395 000004D2 74 04                           	JE	L13
   396 000004D4 C6 45 A6 43                     	MOV	BYTE [-90+EBP],67
   397 000004D8                                 L13:
   398 000004D8 6A 1F                           	PUSH	31
   399 000004DA 68 00000097                     	PUSH	151
   400 000004DF 6A 10                           	PUSH	16
   401 000004E1 6A 20                           	PUSH	32
   402 000004E3 6A 0E                           	PUSH	14
   403 000004E5 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   404 000004EC 50                              	PUSH	EAX
   405 000004ED FF B5 FFFFFDD8                  	PUSH	DWORD [-552+EBP]
   406 000004F3 E8 [00000000]                   	CALL	_boxfill8
   407 000004F8 8D 55 A4                        	LEA	EDX,DWORD [-92+EBP]
   408 000004FB 52                              	PUSH	EDX
   409 000004FC 6A 07                           	PUSH	7
   410 000004FE 6A 10                           	PUSH	16
   411 00000500 6A 20                           	PUSH	32
   412 00000502 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   413 00000509 50                              	PUSH	EAX
   414 0000050A FF B5 FFFFFDD8                  	PUSH	DWORD [-552+EBP]
   415 00000510 E8 [00000000]                   	CALL	_putfonts8_asc
   416 00000515 83 C4 34                        	ADD	ESP,52
   417 00000518 6A 20                           	PUSH	32
   418 0000051A 68 00000098                     	PUSH	152
   419 0000051F 6A 10                           	PUSH	16
   420 00000521 6A 20                           	PUSH	32
   421 00000523 FF B5 FFFFFDE4                  	PUSH	DWORD [-540+EBP]
   422 00000529 E8 [00000000]                   	CALL	_sheet_refresh
   423 0000052E 8B 9D FFFFFEF8                  	MOV	EBX,DWORD [-264+EBP]
   424 00000534 03 BD FFFFFEFC                  	ADD	EDI,DWORD [-260+EBP]
   425 0000053A 83 C4 14                        	ADD	ESP,20
   426 0000053D 01 9D FFFFFDE8                  	ADD	DWORD [-536+EBP],EBX
   427 00000543 0F 88 000000B5                  	JS	L24
   428 00000549                                 L14:
   429 00000549 85 FF                           	TEST	EDI,EDI
   430 0000054B 0F 88 000000A6                  	JS	L25
   431 00000551                                 L15:
   432 00000551 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   433 00000558 48                              	DEC	EAX
   434 00000559 39 85 FFFFFDE8                  	CMP	DWORD [-536+EBP],EAX
   435 0000055F 7E 06                           	JLE	L16
   436 00000561 89 85 FFFFFDE8                  	MOV	DWORD [-536+EBP],EAX
   437 00000567                                 L16:
   438 00000567 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   439 0000056E 48                              	DEC	EAX
   440 0000056F 39 C7                           	CMP	EDI,EAX
   441 00000571 7E 02                           	JLE	L17
   442 00000573 89 C7                           	MOV	EDI,EAX
   443 00000575                                 L17:
   444 00000575 57                              	PUSH	EDI
   445 00000576 8D 45 A4                        	LEA	EAX,DWORD [-92+EBP]
   446 00000579 FF B5 FFFFFDE8                  	PUSH	DWORD [-536+EBP]
   447 0000057F 68 [00000023]                   	PUSH	LC3
   448 00000584 50                              	PUSH	EAX
   449 00000585 E8 [00000000]                   	CALL	_sprintf
   450 0000058A 6A 0F                           	PUSH	15
   451 0000058C 6A 4F                           	PUSH	79
   452 0000058E 6A 00                           	PUSH	0
   453 00000590 6A 00                           	PUSH	0
   454 00000592 6A 0E                           	PUSH	14
   455 00000594 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   456 0000059B 50                              	PUSH	EAX
   457 0000059C FF B5 FFFFFDD8                  	PUSH	DWORD [-552+EBP]
   458 000005A2 E8 [00000000]                   	CALL	_boxfill8
   459 000005A7 8D 55 A4                        	LEA	EDX,DWORD [-92+EBP]
   460 000005AA 83 C4 2C                        	ADD	ESP,44
   461 000005AD 52                              	PUSH	EDX
   462 000005AE 6A 07                           	PUSH	7
   463 000005B0 6A 00                           	PUSH	0
   464 000005B2 6A 00                           	PUSH	0
   465 000005B4 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   466 000005BB 50                              	PUSH	EAX
   467 000005BC FF B5 FFFFFDD8                  	PUSH	DWORD [-552+EBP]
   468 000005C2 E8 [00000000]                   	CALL	_putfonts8_asc
   469 000005C7 6A 10                           	PUSH	16
   470 000005C9 6A 50                           	PUSH	80
   471 000005CB 6A 00                           	PUSH	0
   472 000005CD 6A 00                           	PUSH	0
   473 000005CF FF B5 FFFFFDE4                  	PUSH	DWORD [-540+EBP]
   474 000005D5 E8 [00000000]                   	CALL	_sheet_refresh
   475 000005DA 83 C4 2C                        	ADD	ESP,44
   476 000005DD 57                              	PUSH	EDI
   477 000005DE FF B5 FFFFFDE8                  	PUSH	DWORD [-536+EBP]
   478 000005E4 FF B5 FFFFFDE0                  	PUSH	DWORD [-544+EBP]
   479 000005EA E8 [00000000]                   	CALL	_sheet_slide
   480 000005EF 83 C4 0C                        	ADD	ESP,12
   481 000005F2 E9 FFFFFD59                     	JMP	L2
   482 000005F7                                 L25:
   483 000005F7 31 FF                           	XOR	EDI,EDI
   484 000005F9 E9 FFFFFF53                     	JMP	L15
   485 000005FE                                 L24:
   486 000005FE C7 85 FFFFFDE8 00000000         	MOV	DWORD [-536+EBP],0
   487 00000608 E9 FFFFFF3C                     	JMP	L14
   488 0000060D                                 L22:
   489 0000060D 68 [00000000]                   	PUSH	_keyfifo
   490 00000612 E8 [00000000]                   	CALL	_fifo8_get
   491 00000617 89 C3                           	MOV	EBX,EAX
   492 00000619 E8 [00000000]                   	CALL	_io_sti
   493 0000061E 53                              	PUSH	EBX
   494 0000061F 8D 55 A4                        	LEA	EDX,DWORD [-92+EBP]
   495 00000622 68 [00000061]                   	PUSH	LC6
   496 00000627 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   497 0000062A 52                              	PUSH	EDX
   498 0000062B E8 [00000000]                   	CALL	_sprintf
   499 00000630 6A 1F                           	PUSH	31
   500 00000632 6A 0F                           	PUSH	15
   501 00000634 6A 10                           	PUSH	16
   502 00000636 6A 00                           	PUSH	0
   503 00000638 6A 0E                           	PUSH	14
   504 0000063A 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   505 00000641 50                              	PUSH	EAX
   506 00000642 FF B5 FFFFFDD8                  	PUSH	DWORD [-552+EBP]
   507 00000648 E8 [00000000]                   	CALL	_boxfill8
   508 0000064D 83 C4 2C                        	ADD	ESP,44
   509 00000650 53                              	PUSH	EBX
   510 00000651 6A 07                           	PUSH	7
   511 00000653 6A 10                           	PUSH	16
   512 00000655 6A 00                           	PUSH	0
   513 00000657 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   514 0000065E 50                              	PUSH	EAX
   515 0000065F FF B5 FFFFFDD8                  	PUSH	DWORD [-552+EBP]
   516 00000665 E8 [00000000]                   	CALL	_putfonts8_asc
   517 0000066A 6A 20                           	PUSH	32
   518 0000066C 6A 10                           	PUSH	16
   519 0000066E 6A 10                           	PUSH	16
   520 00000670 E9 FFFFFCCB                     	JMP	L20
   521 00000675                                 L21:
   522 00000675 E8 [00000000]                   	CALL	_io_sti
   523 0000067A E9 FFFFFCD1                     	JMP	L2
   524                                          [SECTION .data]
   525 00000066                                 _closebtn.0:
   526 00000066 4F 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"OOOOOOOOOOOOOOO@"
       00000070 4F 4F 4F 4F 4F 40 
   527 00000076 4F 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"OOOOOOOOOOOOOO$@"
       00000080 4F 4F 4F 4F 24 40 
   528 00000086 4F 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"OOOOOOOOOOOOOO$@"
       00000090 4F 4F 4F 4F 24 40 
   529 00000096 4F 4F 4F 4F 40 40 4F 4F 4F 4F   	DB	"OOOO@@OOOO@@OO$@"
       000000A0 40 40 4F 4F 24 40 
   530 000000A6 4F 4F 4F 4F 4F 40 40 4F 4F 40   	DB	"OOOOO@@OO@@OOO$@"
       000000B0 40 4F 4F 4F 24 40 
   531 000000B6 4F 4F 4F 4F 4F 4F 40 40 40 40   	DB	"OOOOOO@@@@OOOO$@"
       000000C0 4F 4F 4F 4F 24 40 
   532 000000C6 4F 4F 4F 4F 4F 4F 4F 40 40 4F   	DB	"OOOOOOO@@OOOOO$@"
       000000D0 4F 4F 4F 4F 24 40 
   533 000000D6 4F 4F 4F 4F 4F 4F 40 40 40 40   	DB	"OOOOOO@@@@OOOO$@"
       000000E0 4F 4F 4F 4F 24 40 
   534 000000E6 4F 4F 4F 4F 4F 40 40 4F 4F 40   	DB	"OOOOO@@OO@@OOO$@"
       000000F0 40 4F 4F 4F 24 40 
   535 000000F6 4F 4F 4F 4F 40 40 4F 4F 4F 4F   	DB	"OOOO@@OOOO@@OO$@"
       00000100 40 40 4F 4F 24 40 
   536 00000106 4F 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"OOOOOOOOOOOOOO$@"
       00000110 4F 4F 4F 4F 24 40 
   537 00000116 4F 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"OOOOOOOOOOOOOO$@"
       00000120 4F 4F 4F 4F 24 40 
   538 00000126 4F 24 24 24 24 24 24 24 24 24   	DB	"O$$$$$$$$$$$$$$@"
       00000130 24 24 24 24 24 40 
   539 00000136 40 40 40 40 40 40 40 40 40 40   	DB	"@@@@@@@@@@@@@@@@"
       00000140 40 40 40 40 40 40 
   540                                          [SECTION .text]
   541 0000067F                                 	GLOBAL	_make_window8
   542 0000067F                                 _make_window8:
   543 0000067F 55                              	PUSH	EBP
   544 00000680 89 E5                           	MOV	EBP,ESP
   545 00000682 57                              	PUSH	EDI
   546 00000683 56                              	PUSH	ESI
   547 00000684 53                              	PUSH	EBX
   548 00000685 83 EC 14                        	SUB	ESP,20
   549 00000688 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   550 0000068B 6A 00                           	PUSH	0
   551 0000068D 8D 43 FF                        	LEA	EAX,DWORD [-1+EBX]
   552 00000690 8D 7B FE                        	LEA	EDI,DWORD [-2+EBX]
   553 00000693 50                              	PUSH	EAX
   554 00000694 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   555 00000697 6A 00                           	PUSH	0
   556 00000699 6A 00                           	PUSH	0
   557 0000069B 6A 08                           	PUSH	8
   558 0000069D 53                              	PUSH	EBX
   559 0000069E FF 75 08                        	PUSH	DWORD [8+EBP]
   560 000006A1 E8 [00000000]                   	CALL	_boxfill8
   561 000006A6 6A 01                           	PUSH	1
   562 000006A8 57                              	PUSH	EDI
   563 000006A9 6A 01                           	PUSH	1
   564 000006AB 6A 01                           	PUSH	1
   565 000006AD 6A 07                           	PUSH	7
   566 000006AF 53                              	PUSH	EBX
   567 000006B0 FF 75 08                        	PUSH	DWORD [8+EBP]
   568 000006B3 E8 [00000000]                   	CALL	_boxfill8
   569 000006B8 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
   570 000006BB 83 C4 38                        	ADD	ESP,56
   571 000006BE 4A                              	DEC	EDX
   572 000006BF 89 55 E8                        	MOV	DWORD [-24+EBP],EDX
   573 000006C2 52                              	PUSH	EDX
   574 000006C3 6A 00                           	PUSH	0
   575 000006C5 6A 00                           	PUSH	0
   576 000006C7 6A 00                           	PUSH	0
   577 000006C9 6A 08                           	PUSH	8
   578 000006CB 53                              	PUSH	EBX
   579 000006CC FF 75 08                        	PUSH	DWORD [8+EBP]
   580 000006CF E8 [00000000]                   	CALL	_boxfill8
   581 000006D4 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   582 000006D7 83 EE 02                        	SUB	ESI,2
   583 000006DA 56                              	PUSH	ESI
   584 000006DB 6A 01                           	PUSH	1
   585 000006DD 6A 01                           	PUSH	1
   586 000006DF 6A 01                           	PUSH	1
   587 000006E1 6A 07                           	PUSH	7
   588 000006E3 53                              	PUSH	EBX
   589 000006E4 FF 75 08                        	PUSH	DWORD [8+EBP]
   590 000006E7 E8 [00000000]                   	CALL	_boxfill8
   591 000006EC 83 C4 38                        	ADD	ESP,56
   592 000006EF 56                              	PUSH	ESI
   593 000006F0 57                              	PUSH	EDI
   594 000006F1 6A 01                           	PUSH	1
   595 000006F3 57                              	PUSH	EDI
   596 000006F4 6A 0F                           	PUSH	15
   597 000006F6 53                              	PUSH	EBX
   598 000006F7 FF 75 08                        	PUSH	DWORD [8+EBP]
   599 000006FA E8 [00000000]                   	CALL	_boxfill8
   600 000006FF FF 75 E8                        	PUSH	DWORD [-24+EBP]
   601 00000702 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   602 00000705 6A 00                           	PUSH	0
   603 00000707 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   604 0000070A 6A 00                           	PUSH	0
   605 0000070C 53                              	PUSH	EBX
   606 0000070D FF 75 08                        	PUSH	DWORD [8+EBP]
   607 00000710 E8 [00000000]                   	CALL	_boxfill8
   608 00000715 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   609 00000718 83 C4 38                        	ADD	ESP,56
   610 0000071B 83 E8 03                        	SUB	EAX,3
   611 0000071E 50                              	PUSH	EAX
   612 0000071F 8D 43 FD                        	LEA	EAX,DWORD [-3+EBX]
   613 00000722 50                              	PUSH	EAX
   614 00000723 6A 02                           	PUSH	2
   615 00000725 6A 02                           	PUSH	2
   616 00000727 6A 08                           	PUSH	8
   617 00000729 53                              	PUSH	EBX
   618 0000072A FF 75 08                        	PUSH	DWORD [8+EBP]
   619 0000072D E8 [00000000]                   	CALL	_boxfill8
   620 00000732 8D 43 FC                        	LEA	EAX,DWORD [-4+EBX]
   621 00000735 6A 14                           	PUSH	20
   622 00000737 50                              	PUSH	EAX
   623 00000738 6A 03                           	PUSH	3
   624 0000073A 6A 03                           	PUSH	3
   625 0000073C 6A 0C                           	PUSH	12
   626 0000073E 53                              	PUSH	EBX
   627 0000073F FF 75 08                        	PUSH	DWORD [8+EBP]
   628 00000742 E8 [00000000]                   	CALL	_boxfill8
   629 00000747 83 C4 38                        	ADD	ESP,56
   630 0000074A 56                              	PUSH	ESI
   631 0000074B 57                              	PUSH	EDI
   632 0000074C 56                              	PUSH	ESI
   633 0000074D 6A 01                           	PUSH	1
   634 0000074F 6A 0F                           	PUSH	15
   635 00000751 53                              	PUSH	EBX
   636 00000752 FF 75 08                        	PUSH	DWORD [8+EBP]
   637 00000755 E8 [00000000]                   	CALL	_boxfill8
   638 0000075A FF 75 E8                        	PUSH	DWORD [-24+EBP]
   639 0000075D FF 75 EC                        	PUSH	DWORD [-20+EBP]
   640 00000760 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   641 00000763 6A 00                           	PUSH	0
   642 00000765 6A 00                           	PUSH	0
   643 00000767 6B F3 05                        	IMUL	ESI,EBX,5
   644 0000076A 53                              	PUSH	EBX
   645 0000076B FF 75 08                        	PUSH	DWORD [8+EBP]
   646 0000076E E8 [00000000]                   	CALL	_boxfill8
   647 00000773 83 C4 38                        	ADD	ESP,56
   648 00000776 FF 75 14                        	PUSH	DWORD [20+EBP]
   649 00000779 6A 07                           	PUSH	7
   650 0000077B 6A 04                           	PUSH	4
   651 0000077D 6A 18                           	PUSH	24
   652 0000077F 53                              	PUSH	EBX
   653 00000780 FF 75 08                        	PUSH	DWORD [8+EBP]
   654 00000783 E8 [00000000]                   	CALL	_putfonts8_asc
   655 00000788 83 C4 18                        	ADD	ESP,24
   656 0000078B C7 45 F0 00000000               	MOV	DWORD [-16+EBP],0
   657 00000792 C7 45 E0 00000000               	MOV	DWORD [-32+EBP],0
   658 00000799                                 L42:
   659 00000799 8D 04 1E                        	LEA	EAX,DWORD [ESI+EBX*1]
   660 0000079C 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   661 0000079F 31 FF                           	XOR	EDI,EDI
   662 000007A1 8D 4C 02 EB                     	LEA	ECX,DWORD [-21+EDX+EAX*1]
   663 000007A5                                 L41:
   664 000007A5 8B 45 E0                        	MOV	EAX,DWORD [-32+EBP]
   665 000007A8 8A 94 07 [00000066]             	MOV	DL,BYTE [_closebtn.0+EDI+EAX*1]
   666 000007AF 80 FA 40                        	CMP	DL,64
   667 000007B2 74 33                           	JE	L47
   668 000007B4 80 FA 24                        	CMP	DL,36
   669 000007B7 74 2A                           	JE	L48
   670 000007B9 80 FA 4F                        	CMP	DL,79
   671 000007BC B2 08                           	MOV	DL,8
   672 000007BE 0F 95 C0                        	SETNE	AL
   673 000007C1 28 C2                           	SUB	DL,AL
   674 000007C3                                 L36:
   675 000007C3 47                              	INC	EDI
   676 000007C4 88 11                           	MOV	BYTE [ECX],DL
   677 000007C6 41                              	INC	ECX
   678 000007C7 83 FF 0F                        	CMP	EDI,15
   679 000007CA 7E D9                           	JLE	L41
   680 000007CC FF 45 F0                        	INC	DWORD [-16+EBP]
   681 000007CF 01 DE                           	ADD	ESI,EBX
   682 000007D1 83 45 E0 10                     	ADD	DWORD [-32+EBP],16
   683 000007D5 83 7D F0 0D                     	CMP	DWORD [-16+EBP],13
   684 000007D9 7E BE                           	JLE	L42
   685 000007DB 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   686 000007DE 5B                              	POP	EBX
   687 000007DF 5E                              	POP	ESI
   688 000007E0 5F                              	POP	EDI
   689 000007E1 5D                              	POP	EBP
   690 000007E2 C3                              	RET
   691 000007E3                                 L48:
   692 000007E3 B2 0F                           	MOV	DL,15
   693 000007E5 EB DC                           	JMP	L36
   694 000007E7                                 L47:
   695 000007E7 31 D2                           	XOR	EDX,EDX
   696 000007E9 EB D8                           	JMP	L36
