     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_init_gdtidt
     7 00000000                                 	EXTERN	_init_pic
     8 00000000                                 	EXTERN	_io_sti
     9 00000000                                 	EXTERN	_keyfifo
    10 00000000                                 	EXTERN	_fifo8_init
    11 00000000                                 	EXTERN	_mousefifo
    12 00000000                                 	EXTERN	_init_pit
    13 00000000                                 	EXTERN	_io_out8
    14 00000000                                 	EXTERN	_init_keyboard
    15 00000000                                 	EXTERN	_enable_mouse
    16 00000000                                 	EXTERN	_memtest
    17 00000000                                 	EXTERN	_memman_init
    18 00000000                                 	EXTERN	_memman_free
    19 00000000                                 	EXTERN	_init_palette
    20 00000000                                 	EXTERN	_shtctl_init
    21 00000000                                 	EXTERN	_sheet_alloc
    22 00000000                                 	EXTERN	_memman_alloc_4k
    23 00000000                                 	EXTERN	_sheet_setbuf
    24 00000000                                 	EXTERN	_init_screen8
    25 00000000                                 	EXTERN	_init_mouse_cursor8
    26 00000000                                 	EXTERN	_putfonts8_asc
    27 00000000                                 	EXTERN	_sheet_slide
    28 00000000                                 	EXTERN	_sheet_updown
    29 00000000                                 	EXTERN	_sprintf
    30 00000000                                 	EXTERN	_memman_total
    31 00000000                                 	EXTERN	_sheet_refresh
    32 00000000                                 	EXTERN	_timerctl
    33 00000000                                 	EXTERN	_boxfill8
    34 00000000                                 	EXTERN	_io_cli
    35 00000000                                 	EXTERN	_fifo8_status
    36 00000000                                 	EXTERN	_fifo8_get
    37 00000000                                 	EXTERN	_mouse_decode
    38 00000000                                 [FILE "bootpack.c"]
    39                                          [SECTION .data]
    40 00000000                                 LC0:
    41 00000000 63 6F 75 6E 74 65 72 00         	DB	"counter",0x00
    42 00000008                                 LC1:
    43 00000008 57 65 6C 63 6F 6D 65 20 74 6F   	DB	"Welcome to",0x00
       00000012 00 
    44 00000013                                 LC2:
    45 00000013 20 20 20 20 48 61 72 69 62 6F   	DB	"    Haribote-OS",0x00
       0000001D 74 65 2D 4F 53 00 
    46 00000023                                 LC3:
    47 00000023 28 25 33 64 2C 20 25 33 64 29   	DB	"(%3d, %3d)",0x00
       0000002D 00 
    48 0000002E                                 LC4:
    49 0000002E 6D 65 6D 6F 72 79 20 25 64 4D   	DB	"memory %dMB free: %dKB",0x00
       00000038 42 20 66 72 65 65 3A 20 25 64 
       00000042 4B 42 00 
    50 00000045                                 LC5:
    51 00000045 25 30 31 30 64 00               	DB	"%010d",0x00
    52 0000004B                                 LC7:
    53 0000004B 5B 6C 63 72 20 25 34 64 20 25   	DB	"[lcr %4d %4d]",0x00
       00000055 34 64 5D 00 
    54 00000059                                 LC6:
    55 00000059 25 30 32 58 00                  	DB	"%02X",0x00
    56                                          [SECTION .text]
    57 00000000                                 	GLOBAL	_HariMain
    58 00000000                                 _HariMain:
    59 00000000 55                              	PUSH	EBP
    60 00000001 89 E5                           	MOV	EBP,ESP
    61 00000003 57                              	PUSH	EDI
    62 00000004 56                              	PUSH	ESI
    63 00000005 53                              	PUSH	EBX
    64 00000006 81 EC 000001F8                  	SUB	ESP,504
    65 0000000C E8 [00000000]                   	CALL	_init_gdtidt
    66 00000011 E8 [00000000]                   	CALL	_init_pic
    67 00000016 E8 [00000000]                   	CALL	_io_sti
    68 0000001B 8D 45 A4                        	LEA	EAX,DWORD [-92+EBP]
    69 0000001E 50                              	PUSH	EAX
    70 0000001F 6A 20                           	PUSH	32
    71 00000021 68 [00000000]                   	PUSH	_keyfifo
    72 00000026 E8 [00000000]                   	CALL	_fifo8_init
    73 0000002B 8D 85 FFFFFF24                  	LEA	EAX,DWORD [-220+EBP]
    74 00000031 50                              	PUSH	EAX
    75 00000032 68 00000080                     	PUSH	128
    76 00000037 68 [00000000]                   	PUSH	_mousefifo
    77 0000003C E8 [00000000]                   	CALL	_fifo8_init
    78 00000041 E8 [00000000]                   	CALL	_init_pit
    79 00000046 68 000000F8                     	PUSH	248
    80 0000004B 6A 21                           	PUSH	33
    81 0000004D E8 [00000000]                   	CALL	_io_out8
    82 00000052 83 C4 20                        	ADD	ESP,32
    83 00000055 68 000000EF                     	PUSH	239
    84 0000005A 68 000000A1                     	PUSH	161
    85 0000005F E8 [00000000]                   	CALL	_io_out8
    86 00000064 E8 [00000000]                   	CALL	_init_keyboard
    87 00000069 8D 85 FFFFFF14                  	LEA	EAX,DWORD [-236+EBP]
    88 0000006F 50                              	PUSH	EAX
    89 00000070 E8 [00000000]                   	CALL	_enable_mouse
    90 00000075 68 BFFFFFFF                     	PUSH	-1073741825
    91 0000007A 68 00400000                     	PUSH	4194304
    92 0000007F E8 [00000000]                   	CALL	_memtest
    93 00000084 68 0003C000                     	PUSH	245760
    94 00000089 89 C3                           	MOV	EBX,EAX
    95 0000008B E8 [00000000]                   	CALL	_memman_init
    96 00000090 68 0009E000                     	PUSH	647168
    97 00000095 68 00001000                     	PUSH	4096
    98 0000009A 68 0003C000                     	PUSH	245760
    99 0000009F E8 [00000000]                   	CALL	_memman_free
   100 000000A4 8D 83 FFC00000                  	LEA	EAX,DWORD [-4194304+EBX]
   101 000000AA 83 C4 24                        	ADD	ESP,36
   102 000000AD 50                              	PUSH	EAX
   103 000000AE 68 00400000                     	PUSH	4194304
   104 000000B3 68 0003C000                     	PUSH	245760
   105 000000B8 E8 [00000000]                   	CALL	_memman_free
   106 000000BD E8 [00000000]                   	CALL	_init_palette
   107 000000C2 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   108 000000C9 50                              	PUSH	EAX
   109 000000CA 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   110 000000D1 50                              	PUSH	EAX
   111 000000D2 FF 35 00000FF8                  	PUSH	DWORD [4088]
   112 000000D8 68 0003C000                     	PUSH	245760
   113 000000DD E8 [00000000]                   	CALL	_shtctl_init
   114 000000E2 89 C3                           	MOV	EBX,EAX
   115 000000E4 50                              	PUSH	EAX
   116 000000E5 E8 [00000000]                   	CALL	_sheet_alloc
   117 000000EA 83 C4 20                        	ADD	ESP,32
   118 000000ED 53                              	PUSH	EBX
   119 000000EE 89 85 FFFFFE10                  	MOV	DWORD [-496+EBP],EAX
   120 000000F4 E8 [00000000]                   	CALL	_sheet_alloc
   121 000000F9 53                              	PUSH	EBX
   122 000000FA 8D 9D FFFFFE14                  	LEA	EBX,DWORD [-492+EBP]
   123 00000100 89 85 FFFFFE0C                  	MOV	DWORD [-500+EBP],EAX
   124 00000106 E8 [00000000]                   	CALL	_sheet_alloc
   125 0000010B 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
   126 00000112 89 85 FFFFFE08                  	MOV	DWORD [-504+EBP],EAX
   127 00000118 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   128 0000011F 0F AF C2                        	IMUL	EAX,EDX
   129 00000122 50                              	PUSH	EAX
   130 00000123 68 0003C000                     	PUSH	245760
   131 00000128 E8 [00000000]                   	CALL	_memman_alloc_4k
   132 0000012D 68 00002080                     	PUSH	8320
   133 00000132 68 0003C000                     	PUSH	245760
   134 00000137 89 85 FFFFFE04                  	MOV	DWORD [-508+EBP],EAX
   135 0000013D E8 [00000000]                   	CALL	_memman_alloc_4k
   136 00000142 6A FF                           	PUSH	-1
   137 00000144 89 85 FFFFFE00                  	MOV	DWORD [-512+EBP],EAX
   138 0000014A 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   139 00000151 50                              	PUSH	EAX
   140 00000152 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   141 00000159 50                              	PUSH	EAX
   142 0000015A FF B5 FFFFFE04                  	PUSH	DWORD [-508+EBP]
   143 00000160 FF B5 FFFFFE10                  	PUSH	DWORD [-496+EBP]
   144 00000166 E8 [00000000]                   	CALL	_sheet_setbuf
   145 0000016B 83 C4 2C                        	ADD	ESP,44
   146 0000016E 6A 63                           	PUSH	99
   147 00000170 6A 10                           	PUSH	16
   148 00000172 6A 10                           	PUSH	16
   149 00000174 53                              	PUSH	EBX
   150 00000175 FF B5 FFFFFE0C                  	PUSH	DWORD [-500+EBP]
   151 0000017B E8 [00000000]                   	CALL	_sheet_setbuf
   152 00000180 6A FF                           	PUSH	-1
   153 00000182 6A 34                           	PUSH	52
   154 00000184 68 000000A0                     	PUSH	160
   155 00000189 FF B5 FFFFFE00                  	PUSH	DWORD [-512+EBP]
   156 0000018F FF B5 FFFFFE08                  	PUSH	DWORD [-504+EBP]
   157 00000195 E8 [00000000]                   	CALL	_sheet_setbuf
   158 0000019A 83 C4 28                        	ADD	ESP,40
   159 0000019D 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   160 000001A4 50                              	PUSH	EAX
   161 000001A5 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   162 000001AC 50                              	PUSH	EAX
   163 000001AD FF B5 FFFFFE04                  	PUSH	DWORD [-508+EBP]
   164 000001B3 E8 [00000000]                   	CALL	_init_screen8
   165 000001B8 6A 63                           	PUSH	99
   166 000001BA 53                              	PUSH	EBX
   167 000001BB BB 00000002                     	MOV	EBX,2
   168 000001C0 E8 [00000000]                   	CALL	_init_mouse_cursor8
   169 000001C5 68 [00000000]                   	PUSH	LC0
   170 000001CA 6A 34                           	PUSH	52
   171 000001CC 68 000000A0                     	PUSH	160
   172 000001D1 FF B5 FFFFFE00                  	PUSH	DWORD [-512+EBP]
   173 000001D7 E8 000003EB                     	CALL	_make_window8
   174 000001DC 83 C4 24                        	ADD	ESP,36
   175 000001DF 68 [00000008]                   	PUSH	LC1
   176 000001E4 6A 00                           	PUSH	0
   177 000001E6 6A 1C                           	PUSH	28
   178 000001E8 6A 18                           	PUSH	24
   179 000001EA 68 000000A0                     	PUSH	160
   180 000001EF FF B5 FFFFFE00                  	PUSH	DWORD [-512+EBP]
   181 000001F5 E8 [00000000]                   	CALL	_putfonts8_asc
   182 000001FA 68 [00000013]                   	PUSH	LC2
   183 000001FF 6A 00                           	PUSH	0
   184 00000201 6A 2C                           	PUSH	44
   185 00000203 6A 18                           	PUSH	24
   186 00000205 68 000000A0                     	PUSH	160
   187 0000020A FF B5 FFFFFE00                  	PUSH	DWORD [-512+EBP]
   188 00000210 E8 [00000000]                   	CALL	_putfonts8_asc
   189 00000215 83 C4 30                        	ADD	ESP,48
   190 00000218 6A 00                           	PUSH	0
   191 0000021A 6A 00                           	PUSH	0
   192 0000021C FF B5 FFFFFE10                  	PUSH	DWORD [-496+EBP]
   193 00000222 E8 [00000000]                   	CALL	_sheet_slide
   194 00000227 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   195 0000022E 8D 48 F0                        	LEA	ECX,DWORD [-16+EAX]
   196 00000231 89 C8                           	MOV	EAX,ECX
   197 00000233 99                              	CDQ
   198 00000234 F7 FB                           	IDIV	EBX
   199 00000236 89 C7                           	MOV	EDI,EAX
   200 00000238 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   201 0000023F 8D 48 D4                        	LEA	ECX,DWORD [-44+EAX]
   202 00000242 89 C8                           	MOV	EAX,ECX
   203 00000244 99                              	CDQ
   204 00000245 F7 FB                           	IDIV	EBX
   205 00000247 50                              	PUSH	EAX
   206 00000248 89 C6                           	MOV	ESI,EAX
   207 0000024A 57                              	PUSH	EDI
   208 0000024B 8D 5D C4                        	LEA	EBX,DWORD [-60+EBP]
   209 0000024E FF B5 FFFFFE0C                  	PUSH	DWORD [-500+EBP]
   210 00000254 E8 [00000000]                   	CALL	_sheet_slide
   211 00000259 6A 48                           	PUSH	72
   212 0000025B 6A 50                           	PUSH	80
   213 0000025D FF B5 FFFFFE08                  	PUSH	DWORD [-504+EBP]
   214 00000263 E8 [00000000]                   	CALL	_sheet_slide
   215 00000268 83 C4 24                        	ADD	ESP,36
   216 0000026B 6A 00                           	PUSH	0
   217 0000026D FF B5 FFFFFE10                  	PUSH	DWORD [-496+EBP]
   218 00000273 E8 [00000000]                   	CALL	_sheet_updown
   219 00000278 6A 01                           	PUSH	1
   220 0000027A FF B5 FFFFFE08                  	PUSH	DWORD [-504+EBP]
   221 00000280 E8 [00000000]                   	CALL	_sheet_updown
   222 00000285 6A 02                           	PUSH	2
   223 00000287 FF B5 FFFFFE0C                  	PUSH	DWORD [-500+EBP]
   224 0000028D E8 [00000000]                   	CALL	_sheet_updown
   225 00000292 56                              	PUSH	ESI
   226 00000293 57                              	PUSH	EDI
   227 00000294 68 [00000023]                   	PUSH	LC3
   228 00000299 53                              	PUSH	EBX
   229 0000029A E8 [00000000]                   	CALL	_sprintf
   230 0000029F 83 C4 28                        	ADD	ESP,40
   231 000002A2 53                              	PUSH	EBX
   232 000002A3 6A 07                           	PUSH	7
   233 000002A5 6A 00                           	PUSH	0
   234 000002A7 6A 00                           	PUSH	0
   235 000002A9 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   236 000002B0 50                              	PUSH	EAX
   237 000002B1 FF B5 FFFFFE04                  	PUSH	DWORD [-508+EBP]
   238 000002B7 E8 [00000000]                   	CALL	_putfonts8_asc
   239 000002BC 68 0003C000                     	PUSH	245760
   240 000002C1 E8 [00000000]                   	CALL	_memman_total
   241 000002C6 C1 E8 0A                        	SHR	EAX,10
   242 000002C9 89 04 24                        	MOV	DWORD [ESP],EAX
   243 000002CC 68 0003C000                     	PUSH	245760
   244 000002D1 E8 [00000000]                   	CALL	_memman_total
   245 000002D6 C1 E8 14                        	SHR	EAX,20
   246 000002D9 89 04 24                        	MOV	DWORD [ESP],EAX
   247 000002DC 68 [0000002E]                   	PUSH	LC4
   248 000002E1 53                              	PUSH	EBX
   249 000002E2 E8 [00000000]                   	CALL	_sprintf
   250 000002E7 83 C4 28                        	ADD	ESP,40
   251 000002EA 53                              	PUSH	EBX
   252 000002EB 6A 07                           	PUSH	7
   253 000002ED 6A 20                           	PUSH	32
   254 000002EF 6A 00                           	PUSH	0
   255 000002F1 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   256 000002F8 50                              	PUSH	EAX
   257 000002F9 FF B5 FFFFFE04                  	PUSH	DWORD [-508+EBP]
   258 000002FF E8 [00000000]                   	CALL	_putfonts8_asc
   259 00000304 6A 30                           	PUSH	48
   260 00000306 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   261 0000030D 50                              	PUSH	EAX
   262 0000030E 6A 00                           	PUSH	0
   263 00000310                                 L18:
   264 00000310 6A 00                           	PUSH	0
   265 00000312 FF B5 FFFFFE10                  	PUSH	DWORD [-496+EBP]
   266 00000318 E8 [00000000]                   	CALL	_sheet_refresh
   267 0000031D 83 C4 2C                        	ADD	ESP,44
   268 00000320                                 L2:
   269 00000320 FF 35 [00000000]                	PUSH	DWORD [_timerctl]
   270 00000326 68 [00000045]                   	PUSH	LC5
   271 0000032B 8D 55 C4                        	LEA	EDX,DWORD [-60+EBP]
   272 0000032E 52                              	PUSH	EDX
   273 0000032F E8 [00000000]                   	CALL	_sprintf
   274 00000334 6A 2B                           	PUSH	43
   275 00000336 6A 77                           	PUSH	119
   276 00000338 6A 1C                           	PUSH	28
   277 0000033A 6A 28                           	PUSH	40
   278 0000033C 6A 08                           	PUSH	8
   279 0000033E 68 000000A0                     	PUSH	160
   280 00000343 FF B5 FFFFFE00                  	PUSH	DWORD [-512+EBP]
   281 00000349 E8 [00000000]                   	CALL	_boxfill8
   282 0000034E 8D 45 C4                        	LEA	EAX,DWORD [-60+EBP]
   283 00000351 83 C4 28                        	ADD	ESP,40
   284 00000354 50                              	PUSH	EAX
   285 00000355 6A 00                           	PUSH	0
   286 00000357 6A 1C                           	PUSH	28
   287 00000359 6A 28                           	PUSH	40
   288 0000035B 68 000000A0                     	PUSH	160
   289 00000360 FF B5 FFFFFE00                  	PUSH	DWORD [-512+EBP]
   290 00000366 E8 [00000000]                   	CALL	_putfonts8_asc
   291 0000036B 6A 2C                           	PUSH	44
   292 0000036D 6A 78                           	PUSH	120
   293 0000036F 6A 1C                           	PUSH	28
   294 00000371 6A 28                           	PUSH	40
   295 00000373 FF B5 FFFFFE08                  	PUSH	DWORD [-504+EBP]
   296 00000379 E8 [00000000]                   	CALL	_sheet_refresh
   297 0000037E 83 C4 2C                        	ADD	ESP,44
   298 00000381 E8 [00000000]                   	CALL	_io_cli
   299 00000386 68 [00000000]                   	PUSH	_keyfifo
   300 0000038B E8 [00000000]                   	CALL	_fifo8_status
   301 00000390 68 [00000000]                   	PUSH	_mousefifo
   302 00000395 89 C3                           	MOV	EBX,EAX
   303 00000397 E8 [00000000]                   	CALL	_fifo8_status
   304 0000039C 8D 04 18                        	LEA	EAX,DWORD [EAX+EBX*1]
   305 0000039F 5B                              	POP	EBX
   306 000003A0 5A                              	POP	EDX
   307 000003A1 85 C0                           	TEST	EAX,EAX
   308 000003A3 0F 84 00000214                  	JE	L19
   309 000003A9 68 [00000000]                   	PUSH	_keyfifo
   310 000003AE E8 [00000000]                   	CALL	_fifo8_status
   311 000003B3 59                              	POP	ECX
   312 000003B4 85 C0                           	TEST	EAX,EAX
   313 000003B6 0F 85 00000199                  	JNE	L20
   314 000003BC 68 [00000000]                   	PUSH	_mousefifo
   315 000003C1 E8 [00000000]                   	CALL	_fifo8_status
   316 000003C6 5A                              	POP	EDX
   317 000003C7 85 C0                           	TEST	EAX,EAX
   318 000003C9 0F 84 FFFFFF51                  	JE	L2
   319 000003CF 68 [00000000]                   	PUSH	_mousefifo
   320 000003D4 E8 [00000000]                   	CALL	_fifo8_get
   321 000003D9 89 C3                           	MOV	EBX,EAX
   322 000003DB E8 [00000000]                   	CALL	_io_sti
   323 000003E0 0F B6 C3                        	MOVZX	EAX,BL
   324 000003E3 50                              	PUSH	EAX
   325 000003E4 8D 85 FFFFFF14                  	LEA	EAX,DWORD [-236+EBP]
   326 000003EA 50                              	PUSH	EAX
   327 000003EB E8 [00000000]                   	CALL	_mouse_decode
   328 000003F0 83 C4 0C                        	ADD	ESP,12
   329 000003F3 85 C0                           	TEST	EAX,EAX
   330 000003F5 0F 84 FFFFFF25                  	JE	L2
   331 000003FB FF B5 FFFFFF1C                  	PUSH	DWORD [-228+EBP]
   332 00000401 FF B5 FFFFFF18                  	PUSH	DWORD [-232+EBP]
   333 00000407 68 [0000004B]                   	PUSH	LC7
   334 0000040C 8D 55 C4                        	LEA	EDX,DWORD [-60+EBP]
   335 0000040F 52                              	PUSH	EDX
   336 00000410 E8 [00000000]                   	CALL	_sprintf
   337 00000415 83 C4 10                        	ADD	ESP,16
   338 00000418 8B 85 FFFFFF20                  	MOV	EAX,DWORD [-224+EBP]
   339 0000041E A9 00000001                     	TEST	EAX,1
   340 00000423 74 04                           	JE	L11
   341 00000425 C6 45 C5 4C                     	MOV	BYTE [-59+EBP],76
   342 00000429                                 L11:
   343 00000429 A9 00000002                     	TEST	EAX,2
   344 0000042E 74 04                           	JE	L12
   345 00000430 C6 45 C7 52                     	MOV	BYTE [-57+EBP],82
   346 00000434                                 L12:
   347 00000434 83 E0 04                        	AND	EAX,4
   348 00000437 74 04                           	JE	L13
   349 00000439 C6 45 C6 43                     	MOV	BYTE [-58+EBP],67
   350 0000043D                                 L13:
   351 0000043D 6A 1F                           	PUSH	31
   352 0000043F 68 00000097                     	PUSH	151
   353 00000444 6A 10                           	PUSH	16
   354 00000446 6A 20                           	PUSH	32
   355 00000448 6A 0E                           	PUSH	14
   356 0000044A 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   357 00000451 50                              	PUSH	EAX
   358 00000452 FF B5 FFFFFE04                  	PUSH	DWORD [-508+EBP]
   359 00000458 E8 [00000000]                   	CALL	_boxfill8
   360 0000045D 8D 45 C4                        	LEA	EAX,DWORD [-60+EBP]
   361 00000460 50                              	PUSH	EAX
   362 00000461 6A 07                           	PUSH	7
   363 00000463 6A 10                           	PUSH	16
   364 00000465 6A 20                           	PUSH	32
   365 00000467 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   366 0000046E 50                              	PUSH	EAX
   367 0000046F FF B5 FFFFFE04                  	PUSH	DWORD [-508+EBP]
   368 00000475 E8 [00000000]                   	CALL	_putfonts8_asc
   369 0000047A 83 C4 34                        	ADD	ESP,52
   370 0000047D 6A 20                           	PUSH	32
   371 0000047F 68 00000098                     	PUSH	152
   372 00000484 6A 10                           	PUSH	16
   373 00000486 6A 20                           	PUSH	32
   374 00000488 FF B5 FFFFFE10                  	PUSH	DWORD [-496+EBP]
   375 0000048E E8 [00000000]                   	CALL	_sheet_refresh
   376 00000493 83 C4 14                        	ADD	ESP,20
   377 00000496 03 B5 FFFFFF1C                  	ADD	ESI,DWORD [-228+EBP]
   378 0000049C 03 BD FFFFFF18                  	ADD	EDI,DWORD [-232+EBP]
   379 000004A2 0F 88 000000A6                  	JS	L21
   380 000004A8                                 L14:
   381 000004A8 85 F6                           	TEST	ESI,ESI
   382 000004AA 0F 88 00000097                  	JS	L22
   383 000004B0                                 L15:
   384 000004B0 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   385 000004B7 48                              	DEC	EAX
   386 000004B8 39 C7                           	CMP	EDI,EAX
   387 000004BA 7E 02                           	JLE	L16
   388 000004BC 89 C7                           	MOV	EDI,EAX
   389 000004BE                                 L16:
   390 000004BE 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
   391 000004C5 8D 42 FF                        	LEA	EAX,DWORD [-1+EDX]
   392 000004C8 39 C6                           	CMP	ESI,EAX
   393 000004CA 7E 03                           	JLE	L17
   394 000004CC 8D 72 FA                        	LEA	ESI,DWORD [-6+EDX]
   395 000004CF                                 L17:
   396 000004CF 56                              	PUSH	ESI
   397 000004D0 8D 55 C4                        	LEA	EDX,DWORD [-60+EBP]
   398 000004D3 57                              	PUSH	EDI
   399 000004D4 68 [00000023]                   	PUSH	LC3
   400 000004D9 52                              	PUSH	EDX
   401 000004DA E8 [00000000]                   	CALL	_sprintf
   402 000004DF 6A 0F                           	PUSH	15
   403 000004E1 6A 4F                           	PUSH	79
   404 000004E3 6A 00                           	PUSH	0
   405 000004E5 6A 00                           	PUSH	0
   406 000004E7 6A 0E                           	PUSH	14
   407 000004E9 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   408 000004F0 50                              	PUSH	EAX
   409 000004F1 FF B5 FFFFFE04                  	PUSH	DWORD [-508+EBP]
   410 000004F7 E8 [00000000]                   	CALL	_boxfill8
   411 000004FC 8D 45 C4                        	LEA	EAX,DWORD [-60+EBP]
   412 000004FF 83 C4 2C                        	ADD	ESP,44
   413 00000502 50                              	PUSH	EAX
   414 00000503 6A 07                           	PUSH	7
   415 00000505 6A 00                           	PUSH	0
   416 00000507 6A 00                           	PUSH	0
   417 00000509 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   418 00000510 50                              	PUSH	EAX
   419 00000511 FF B5 FFFFFE04                  	PUSH	DWORD [-508+EBP]
   420 00000517 E8 [00000000]                   	CALL	_putfonts8_asc
   421 0000051C 6A 10                           	PUSH	16
   422 0000051E 6A 50                           	PUSH	80
   423 00000520 6A 00                           	PUSH	0
   424 00000522 6A 00                           	PUSH	0
   425 00000524 FF B5 FFFFFE10                  	PUSH	DWORD [-496+EBP]
   426 0000052A E8 [00000000]                   	CALL	_sheet_refresh
   427 0000052F 83 C4 2C                        	ADD	ESP,44
   428 00000532 56                              	PUSH	ESI
   429 00000533 57                              	PUSH	EDI
   430 00000534 FF B5 FFFFFE0C                  	PUSH	DWORD [-500+EBP]
   431 0000053A E8 [00000000]                   	CALL	_sheet_slide
   432 0000053F 83 C4 0C                        	ADD	ESP,12
   433 00000542 E9 FFFFFDD9                     	JMP	L2
   434 00000547                                 L22:
   435 00000547 31 F6                           	XOR	ESI,ESI
   436 00000549 E9 FFFFFF62                     	JMP	L15
   437 0000054E                                 L21:
   438 0000054E 31 FF                           	XOR	EDI,EDI
   439 00000550 E9 FFFFFF53                     	JMP	L14
   440 00000555                                 L20:
   441 00000555 68 [00000000]                   	PUSH	_keyfifo
   442 0000055A E8 [00000000]                   	CALL	_fifo8_get
   443 0000055F 89 C3                           	MOV	EBX,EAX
   444 00000561 E8 [00000000]                   	CALL	_io_sti
   445 00000566 53                              	PUSH	EBX
   446 00000567 8D 55 C4                        	LEA	EDX,DWORD [-60+EBP]
   447 0000056A 68 [00000059]                   	PUSH	LC6
   448 0000056F 52                              	PUSH	EDX
   449 00000570 E8 [00000000]                   	CALL	_sprintf
   450 00000575 6A 1F                           	PUSH	31
   451 00000577 6A 0F                           	PUSH	15
   452 00000579 6A 10                           	PUSH	16
   453 0000057B 6A 00                           	PUSH	0
   454 0000057D 6A 0E                           	PUSH	14
   455 0000057F 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   456 00000586 50                              	PUSH	EAX
   457 00000587 FF B5 FFFFFE04                  	PUSH	DWORD [-508+EBP]
   458 0000058D E8 [00000000]                   	CALL	_boxfill8
   459 00000592 8D 45 C4                        	LEA	EAX,DWORD [-60+EBP]
   460 00000595 83 C4 2C                        	ADD	ESP,44
   461 00000598 50                              	PUSH	EAX
   462 00000599 6A 07                           	PUSH	7
   463 0000059B 6A 10                           	PUSH	16
   464 0000059D 6A 00                           	PUSH	0
   465 0000059F 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   466 000005A6 50                              	PUSH	EAX
   467 000005A7 FF B5 FFFFFE04                  	PUSH	DWORD [-508+EBP]
   468 000005AD E8 [00000000]                   	CALL	_putfonts8_asc
   469 000005B2 6A 20                           	PUSH	32
   470 000005B4 6A 10                           	PUSH	16
   471 000005B6 6A 10                           	PUSH	16
   472 000005B8 E9 FFFFFD53                     	JMP	L18
   473 000005BD                                 L19:
   474 000005BD E8 [00000000]                   	CALL	_io_sti
   475 000005C2 E9 FFFFFD59                     	JMP	L2
   476                                          [SECTION .data]
   477 0000005E                                 _closebtn.0:
   478 0000005E 4F 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"OOOOOOOOOOOOOOO@"
       00000068 4F 4F 4F 4F 4F 40 
   479 0000006E 4F 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"OOOOOOOOOOOOOO$@"
       00000078 4F 4F 4F 4F 24 40 
   480 0000007E 4F 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"OOOOOOOOOOOOOO$@"
       00000088 4F 4F 4F 4F 24 40 
   481 0000008E 4F 4F 4F 4F 40 40 4F 4F 4F 4F   	DB	"OOOO@@OOOO@@OO$@"
       00000098 40 40 4F 4F 24 40 
   482 0000009E 4F 4F 4F 4F 4F 40 40 4F 4F 40   	DB	"OOOOO@@OO@@OOO$@"
       000000A8 40 4F 4F 4F 24 40 
   483 000000AE 4F 4F 4F 4F 4F 4F 40 40 40 40   	DB	"OOOOOO@@@@OOOO$@"
       000000B8 4F 4F 4F 4F 24 40 
   484 000000BE 4F 4F 4F 4F 4F 4F 4F 40 40 4F   	DB	"OOOOOOO@@OOOOO$@"
       000000C8 4F 4F 4F 4F 24 40 
   485 000000CE 4F 4F 4F 4F 4F 4F 40 40 40 40   	DB	"OOOOOO@@@@OOOO$@"
       000000D8 4F 4F 4F 4F 24 40 
   486 000000DE 4F 4F 4F 4F 4F 40 40 4F 4F 40   	DB	"OOOOO@@OO@@OOO$@"
       000000E8 40 4F 4F 4F 24 40 
   487 000000EE 4F 4F 4F 4F 40 40 4F 4F 4F 4F   	DB	"OOOO@@OOOO@@OO$@"
       000000F8 40 40 4F 4F 24 40 
   488 000000FE 4F 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"OOOOOOOOOOOOOO$@"
       00000108 4F 4F 4F 4F 24 40 
   489 0000010E 4F 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"OOOOOOOOOOOOOO$@"
       00000118 4F 4F 4F 4F 24 40 
   490 0000011E 4F 24 24 24 24 24 24 24 24 24   	DB	"O$$$$$$$$$$$$$$@"
       00000128 24 24 24 24 24 40 
   491 0000012E 40 40 40 40 40 40 40 40 40 40   	DB	"@@@@@@@@@@@@@@@@"
       00000138 40 40 40 40 40 40 
   492                                          [SECTION .text]
   493 000005C7                                 	GLOBAL	_make_window8
   494 000005C7                                 _make_window8:
   495 000005C7 55                              	PUSH	EBP
   496 000005C8 89 E5                           	MOV	EBP,ESP
   497 000005CA 57                              	PUSH	EDI
   498 000005CB 56                              	PUSH	ESI
   499 000005CC 53                              	PUSH	EBX
   500 000005CD 83 EC 14                        	SUB	ESP,20
   501 000005D0 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   502 000005D3 6A 00                           	PUSH	0
   503 000005D5 8D 43 FF                        	LEA	EAX,DWORD [-1+EBX]
   504 000005D8 8D 7B FE                        	LEA	EDI,DWORD [-2+EBX]
   505 000005DB 50                              	PUSH	EAX
   506 000005DC 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   507 000005DF 6A 00                           	PUSH	0
   508 000005E1 6A 00                           	PUSH	0
   509 000005E3 6A 08                           	PUSH	8
   510 000005E5 53                              	PUSH	EBX
   511 000005E6 FF 75 08                        	PUSH	DWORD [8+EBP]
   512 000005E9 E8 [00000000]                   	CALL	_boxfill8
   513 000005EE 6A 01                           	PUSH	1
   514 000005F0 57                              	PUSH	EDI
   515 000005F1 6A 01                           	PUSH	1
   516 000005F3 6A 01                           	PUSH	1
   517 000005F5 6A 07                           	PUSH	7
   518 000005F7 53                              	PUSH	EBX
   519 000005F8 FF 75 08                        	PUSH	DWORD [8+EBP]
   520 000005FB E8 [00000000]                   	CALL	_boxfill8
   521 00000600 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
   522 00000603 83 C4 38                        	ADD	ESP,56
   523 00000606 4A                              	DEC	EDX
   524 00000607 89 55 E8                        	MOV	DWORD [-24+EBP],EDX
   525 0000060A 52                              	PUSH	EDX
   526 0000060B 6A 00                           	PUSH	0
   527 0000060D 6A 00                           	PUSH	0
   528 0000060F 6A 00                           	PUSH	0
   529 00000611 6A 08                           	PUSH	8
   530 00000613 53                              	PUSH	EBX
   531 00000614 FF 75 08                        	PUSH	DWORD [8+EBP]
   532 00000617 E8 [00000000]                   	CALL	_boxfill8
   533 0000061C 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   534 0000061F 83 EE 02                        	SUB	ESI,2
   535 00000622 56                              	PUSH	ESI
   536 00000623 6A 01                           	PUSH	1
   537 00000625 6A 01                           	PUSH	1
   538 00000627 6A 01                           	PUSH	1
   539 00000629 6A 07                           	PUSH	7
   540 0000062B 53                              	PUSH	EBX
   541 0000062C FF 75 08                        	PUSH	DWORD [8+EBP]
   542 0000062F E8 [00000000]                   	CALL	_boxfill8
   543 00000634 83 C4 38                        	ADD	ESP,56
   544 00000637 56                              	PUSH	ESI
   545 00000638 57                              	PUSH	EDI
   546 00000639 6A 01                           	PUSH	1
   547 0000063B 57                              	PUSH	EDI
   548 0000063C 6A 0F                           	PUSH	15
   549 0000063E 53                              	PUSH	EBX
   550 0000063F FF 75 08                        	PUSH	DWORD [8+EBP]
   551 00000642 E8 [00000000]                   	CALL	_boxfill8
   552 00000647 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   553 0000064A FF 75 EC                        	PUSH	DWORD [-20+EBP]
   554 0000064D 6A 00                           	PUSH	0
   555 0000064F FF 75 EC                        	PUSH	DWORD [-20+EBP]
   556 00000652 6A 00                           	PUSH	0
   557 00000654 53                              	PUSH	EBX
   558 00000655 FF 75 08                        	PUSH	DWORD [8+EBP]
   559 00000658 E8 [00000000]                   	CALL	_boxfill8
   560 0000065D 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   561 00000660 83 C4 38                        	ADD	ESP,56
   562 00000663 83 E8 03                        	SUB	EAX,3
   563 00000666 50                              	PUSH	EAX
   564 00000667 8D 43 FD                        	LEA	EAX,DWORD [-3+EBX]
   565 0000066A 50                              	PUSH	EAX
   566 0000066B 6A 02                           	PUSH	2
   567 0000066D 6A 02                           	PUSH	2
   568 0000066F 6A 08                           	PUSH	8
   569 00000671 53                              	PUSH	EBX
   570 00000672 FF 75 08                        	PUSH	DWORD [8+EBP]
   571 00000675 E8 [00000000]                   	CALL	_boxfill8
   572 0000067A 8D 43 FC                        	LEA	EAX,DWORD [-4+EBX]
   573 0000067D 6A 14                           	PUSH	20
   574 0000067F 50                              	PUSH	EAX
   575 00000680 6A 03                           	PUSH	3
   576 00000682 6A 03                           	PUSH	3
   577 00000684 6A 0C                           	PUSH	12
   578 00000686 53                              	PUSH	EBX
   579 00000687 FF 75 08                        	PUSH	DWORD [8+EBP]
   580 0000068A E8 [00000000]                   	CALL	_boxfill8
   581 0000068F 83 C4 38                        	ADD	ESP,56
   582 00000692 56                              	PUSH	ESI
   583 00000693 57                              	PUSH	EDI
   584 00000694 56                              	PUSH	ESI
   585 00000695 6A 01                           	PUSH	1
   586 00000697 6A 0F                           	PUSH	15
   587 00000699 53                              	PUSH	EBX
   588 0000069A FF 75 08                        	PUSH	DWORD [8+EBP]
   589 0000069D E8 [00000000]                   	CALL	_boxfill8
   590 000006A2 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   591 000006A5 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   592 000006A8 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   593 000006AB 6A 00                           	PUSH	0
   594 000006AD 6A 00                           	PUSH	0
   595 000006AF 6B F3 05                        	IMUL	ESI,EBX,5
   596 000006B2 53                              	PUSH	EBX
   597 000006B3 FF 75 08                        	PUSH	DWORD [8+EBP]
   598 000006B6 E8 [00000000]                   	CALL	_boxfill8
   599 000006BB 83 C4 38                        	ADD	ESP,56
   600 000006BE FF 75 14                        	PUSH	DWORD [20+EBP]
   601 000006C1 6A 07                           	PUSH	7
   602 000006C3 6A 04                           	PUSH	4
   603 000006C5 6A 18                           	PUSH	24
   604 000006C7 53                              	PUSH	EBX
   605 000006C8 FF 75 08                        	PUSH	DWORD [8+EBP]
   606 000006CB E8 [00000000]                   	CALL	_putfonts8_asc
   607 000006D0 83 C4 18                        	ADD	ESP,24
   608 000006D3 C7 45 F0 00000000               	MOV	DWORD [-16+EBP],0
   609 000006DA C7 45 E0 00000000               	MOV	DWORD [-32+EBP],0
   610 000006E1                                 L39:
   611 000006E1 8D 04 1E                        	LEA	EAX,DWORD [ESI+EBX*1]
   612 000006E4 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   613 000006E7 31 FF                           	XOR	EDI,EDI
   614 000006E9 8D 4C 02 EB                     	LEA	ECX,DWORD [-21+EDX+EAX*1]
   615 000006ED                                 L38:
   616 000006ED 8B 45 E0                        	MOV	EAX,DWORD [-32+EBP]
   617 000006F0 8A 94 07 [0000005E]             	MOV	DL,BYTE [_closebtn.0+EDI+EAX*1]
   618 000006F7 80 FA 40                        	CMP	DL,64
   619 000006FA 74 33                           	JE	L44
   620 000006FC 80 FA 24                        	CMP	DL,36
   621 000006FF 74 2A                           	JE	L45
   622 00000701 80 FA 4F                        	CMP	DL,79
   623 00000704 B2 08                           	MOV	DL,8
   624 00000706 0F 95 C0                        	SETNE	AL
   625 00000709 28 C2                           	SUB	DL,AL
   626 0000070B                                 L33:
   627 0000070B 47                              	INC	EDI
   628 0000070C 88 11                           	MOV	BYTE [ECX],DL
   629 0000070E 41                              	INC	ECX
   630 0000070F 83 FF 0F                        	CMP	EDI,15
   631 00000712 7E D9                           	JLE	L38
   632 00000714 FF 45 F0                        	INC	DWORD [-16+EBP]
   633 00000717 01 DE                           	ADD	ESI,EBX
   634 00000719 83 45 E0 10                     	ADD	DWORD [-32+EBP],16
   635 0000071D 83 7D F0 0D                     	CMP	DWORD [-16+EBP],13
   636 00000721 7E BE                           	JLE	L39
   637 00000723 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   638 00000726 5B                              	POP	EBX
   639 00000727 5E                              	POP	ESI
   640 00000728 5F                              	POP	EDI
   641 00000729 5D                              	POP	EBP
   642 0000072A C3                              	RET
   643 0000072B                                 L45:
   644 0000072B B2 0F                           	MOV	DL,15
   645 0000072D EB DC                           	JMP	L33
   646 0000072F                                 L44:
   647 0000072F 31 D2                           	XOR	EDX,EDX
   648 00000731 EB D8                           	JMP	L33
